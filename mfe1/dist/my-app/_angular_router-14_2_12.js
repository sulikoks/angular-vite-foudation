import*as i0 from"@angular/core";import{Injectable,ɵRuntimeError,Directive,Attribute,Output,Component,inject,InjectionToken,Input,HostListener,HostBinding,Optional,ContentChildren,NgModule,Inject,Version,EventEmitter,InjectFlags,NgModuleFactory,Injector,Compiler,NgModuleRef,ɵConsole,NgZone,ɵcoerceToBoolean,createEnvironmentInjector,APP_BOOTSTRAP_LISTENER,ApplicationRef,SkipSelf,NgProbeToken,ɵisObservable,ɵisPromise,ɵisStandalone,ComponentFactoryResolver,ɵisInjectable,APP_INITIALIZER,ENVIRONMENT_INITIALIZER}from"@angular/core";import{Subject,of,ConnectableObservable,from,BehaviorSubject,EMPTY,concat,defer,combineLatest,throwError,EmptyError,pipe,Observable}from"rxjs";import*as i3 from"@angular/common";import{Location,ViewportScroller,LocationStrategy,HashLocationStrategy,PathLocationStrategy,LOCATION_INITIALIZED}from"@angular/common";import{map,tap,finalize,refCount,mergeMap,filter,switchMap,catchError,mergeAll,concatMap,first,defaultIfEmpty,take,startWith,scan,last as last$1,takeWhile,takeLast,mapTo}from"rxjs/operators";import*as i1 from"@angular/platform-browser";const PRIMARY_OUTLET="primary",RouteTitleKey=Symbol("RouteTitle");class ParamsAsMap{constructor(params){this.params=params||{}}has(name){return Object.prototype.hasOwnProperty.call(this.params,name)}get(name){if(this.has(name)){const v=this.params[name];return Array.isArray(v)?v[0]:v}return null}getAll(name){if(this.has(name)){const v=this.params[name];return Array.isArray(v)?v:[v]}return[]}get keys(){return Object.keys(this.params)}}function convertToParamMap(params){return new ParamsAsMap(params)}function defaultUrlMatcher(segments,segmentGroup,route){const parts=route.path.split("/");if(parts.length>segments.length)return null;if("full"===route.pathMatch&&(segmentGroup.hasChildren()||parts.length<segments.length))return null;const posParams={};for(let index=0;index<parts.length;index++){const part=parts[index],segment=segments[index];if(part.startsWith(":"))posParams[part.substring(1)]=segment;else if(part!==segment.path)return null}return{consumed:segments.slice(0,parts.length),posParams:posParams}}function shallowEqual(a,b){const k1=a?Object.keys(a):void 0,k2=b?Object.keys(b):void 0;if(!k1||!k2||k1.length!=k2.length)return!1;let key;for(let i=0;i<k1.length;i++)if(key=k1[i],!equalArraysOrString(a[key],b[key]))return!1;return!0}function equalArraysOrString(a,b){if(Array.isArray(a)&&Array.isArray(b)){if(a.length!==b.length)return!1;const aSorted=[...a].sort(),bSorted=[...b].sort();return aSorted.every((val,index)=>bSorted[index]===val)}return a===b}function flatten(arr){return Array.prototype.concat.apply([],arr)}function last(a){return a.length>0?a[a.length-1]:null}function forEach(map,callback){for(const prop in map)map.hasOwnProperty(prop)&&callback(map[prop],prop)}function wrapIntoObservable(value){return ɵisObservable(value)?value:ɵisPromise(value)?from(Promise.resolve(value)):of(value)}const NG_DEV_MODE$9="undefined"==typeof ngDevMode||ngDevMode;const pathCompareMap={exact:function equalSegmentGroups(container,containee,matrixParams){if(!equalPath(container.segments,containee.segments))return!1;if(!matrixParamsMatch(container.segments,containee.segments,matrixParams))return!1;if(container.numberOfChildren!==containee.numberOfChildren)return!1;for(const c in containee.children){if(!container.children[c])return!1;if(!equalSegmentGroups(container.children[c],containee.children[c],matrixParams))return!1}return!0},subset:containsSegmentGroup},paramCompareMap={exact:function(container,containee){return shallowEqual(container,containee)},subset:function(container,containee){return Object.keys(containee).length<=Object.keys(container).length&&Object.keys(containee).every(key=>equalArraysOrString(container[key],containee[key]))},ignored:()=>!0};function containsTree(container,containee,options){return pathCompareMap[options.paths](container.root,containee.root,options.matrixParams)&&paramCompareMap[options.queryParams](container.queryParams,containee.queryParams)&&!("exact"===options.fragment&&container.fragment!==containee.fragment)}function containsSegmentGroup(container,containee,matrixParams){return containsSegmentGroupHelper(container,containee,containee.segments,matrixParams)}function containsSegmentGroupHelper(container,containee,containeePaths,matrixParams){if(container.segments.length>containeePaths.length){const current=container.segments.slice(0,containeePaths.length);return!!equalPath(current,containeePaths)&&!containee.hasChildren()&&!!matrixParamsMatch(current,containeePaths,matrixParams)}if(container.segments.length===containeePaths.length){if(!equalPath(container.segments,containeePaths))return!1;if(!matrixParamsMatch(container.segments,containeePaths,matrixParams))return!1;for(const c in containee.children){if(!container.children[c])return!1;if(!containsSegmentGroup(container.children[c],containee.children[c],matrixParams))return!1}return!0}{const current=containeePaths.slice(0,container.segments.length),next=containeePaths.slice(container.segments.length);return!!equalPath(container.segments,current)&&!!matrixParamsMatch(container.segments,current,matrixParams)&&!!container.children.primary&&containsSegmentGroupHelper(container.children.primary,containee,next,matrixParams)}}function matrixParamsMatch(containerPaths,containeePaths,options){return containeePaths.every((containeeSegment,i)=>paramCompareMap[options](containerPaths[i].parameters,containeeSegment.parameters))}class UrlTree{constructor(root,queryParams,fragment){this.root=root,this.queryParams=queryParams,this.fragment=fragment}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=convertToParamMap(this.queryParams)),this._queryParamMap}toString(){return DEFAULT_SERIALIZER.serialize(this)}}class UrlSegmentGroup{constructor(segments,children){this.segments=segments,this.children=children,this.parent=null,forEach(children,(v,k)=>v.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return serializePaths(this)}}class UrlSegment{constructor(path,parameters){this.path=path,this.parameters=parameters}get parameterMap(){return this._parameterMap||(this._parameterMap=convertToParamMap(this.parameters)),this._parameterMap}toString(){return serializePath(this)}}function equalPath(as,bs){return as.length===bs.length&&as.every((a,i)=>a.path===bs[i].path)}class UrlSerializer{}UrlSerializer.ɵfac=function UrlSerializer_Factory(t){return new(t||UrlSerializer)},UrlSerializer.ɵprov=/* @__PURE__ */i0.ɵɵdefineInjectable({token:UrlSerializer,factory:function(){return(()=>new DefaultUrlSerializer)()},providedIn:"root"}),function(){(typeof ngDevMode==="undefined"||ngDevMode)&&i0.ɵsetClassMetadata(UrlSerializer,[{type:Injectable,args:[{providedIn:"root",useFactory:()=>new DefaultUrlSerializer}]}],null,null)}();class DefaultUrlSerializer{parse(url){const p=new UrlParser(url);return new UrlTree(p.parseRootSegment(),p.parseQueryParams(),p.parseFragment())}serialize(tree){const segment=`/${serializeSegment(tree.root,!0)}`,query=function(params){const strParams=Object.keys(params).map(name=>{const value=params[name];return Array.isArray(value)?value.map(v=>`${encodeUriQuery(name)}=${encodeUriQuery(v)}`).join("&"):`${encodeUriQuery(name)}=${encodeUriQuery(value)}`}).filter(s=>!!s);return strParams.length?`?${strParams.join("&")}`:""}(tree.queryParams);var s;return`${segment}${query}${"string"==typeof tree.fragment?`#${(s=tree.fragment,encodeURI(s))}`:""}`}}const DEFAULT_SERIALIZER=new DefaultUrlSerializer;function serializePaths(segment){return segment.segments.map(p=>serializePath(p)).join("/")}function serializeSegment(segment,root){if(!segment.hasChildren())return serializePaths(segment);if(root){const primary=segment.children.primary?serializeSegment(segment.children.primary,!1):"",children=[];return forEach(segment.children,(v,k)=>{"primary"!==k&&children.push(`${k}:${serializeSegment(v,!1)}`)}),children.length>0?`${primary}(${children.join("//")})`:primary}{const children=function(segment,fn){let res=[];return forEach(segment.children,(child,childOutlet)=>{"primary"===childOutlet&&(res=res.concat(fn(child,childOutlet)))}),forEach(segment.children,(child,childOutlet)=>{"primary"!==childOutlet&&(res=res.concat(fn(child,childOutlet)))}),res}(segment,(v,k)=>"primary"===k?[serializeSegment(segment.children.primary,!1)]:[`${k}:${serializeSegment(v,!1)}`]);return 1===Object.keys(segment.children).length&&null!=segment.children.primary?`${serializePaths(segment)}/${children[0]}`:`${serializePaths(segment)}/(${children.join("//")})`}}function encodeUriString(s){return encodeURIComponent(s).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function encodeUriQuery(s){return encodeUriString(s).replace(/%3B/gi,";")}function encodeUriSegment(s){return encodeUriString(s).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function decode(s){return decodeURIComponent(s)}function decodeQuery(s){return decode(s.replace(/\+/g,"%20"))}function serializePath(path){return`${encodeUriSegment(path.path)}${(params=path.parameters,Object.keys(params).map(key=>`;${encodeUriSegment(key)}=${encodeUriSegment(params[key])}`).join(""))}`;var params}const SEGMENT_RE=/^[^\/()?;=#]+/;function matchSegments(str){const match=str.match(SEGMENT_RE);return match?match[0]:""}const QUERY_PARAM_RE=/^[^=?&#]+/;const QUERY_PARAM_VALUE_RE=/^[^&#]+/;class UrlParser{constructor(url){this.url=url,this.remaining=url}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new UrlSegmentGroup([],{}):new UrlSegmentGroup([],this.parseChildren())}parseQueryParams(){const params={};if(this.consumeOptional("?"))do{this.parseQueryParam(params)}while(this.consumeOptional("&"));return params}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const segments=[];for(this.peekStartsWith("(")||segments.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),segments.push(this.parseSegment());let children={};this.peekStartsWith("/(")&&(this.capture("/"),children=this.parseParens(!0));let res={};return this.peekStartsWith("(")&&(res=this.parseParens(!1)),(segments.length>0||Object.keys(children).length>0)&&(res.primary=new UrlSegmentGroup(segments,children)),res}parseSegment(){const path=matchSegments(this.remaining);if(""===path&&this.peekStartsWith(";"))throw new ɵRuntimeError(4009,NG_DEV_MODE$9&&`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(path),new UrlSegment(decode(path),this.parseMatrixParams())}parseMatrixParams(){const params={};for(;this.consumeOptional(";");)this.parseParam(params);return params}parseParam(params){const key=matchSegments(this.remaining);if(!key)return;this.capture(key);let value="";if(this.consumeOptional("=")){const valueMatch=matchSegments(this.remaining);valueMatch&&(value=valueMatch,this.capture(value))}params[decode(key)]=decode(value)}parseQueryParam(params){const key=function(str){const match=str.match(QUERY_PARAM_RE);return match?match[0]:""}(this.remaining);if(!key)return;this.capture(key);let value="";if(this.consumeOptional("=")){const valueMatch=function(str){const match=str.match(QUERY_PARAM_VALUE_RE);return match?match[0]:""}(this.remaining);valueMatch&&(value=valueMatch,this.capture(value))}const decodedKey=decodeQuery(key),decodedVal=decodeQuery(value);if(params.hasOwnProperty(decodedKey)){let currentVal=params[decodedKey];Array.isArray(currentVal)||(currentVal=[currentVal],params[decodedKey]=currentVal),currentVal.push(decodedVal)}else params[decodedKey]=decodedVal}parseParens(allowPrimary){const segments={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const path=matchSegments(this.remaining),next=this.remaining[path.length];if("/"!==next&&")"!==next&&";"!==next)throw new ɵRuntimeError(4010,NG_DEV_MODE$9&&`Cannot parse url '${this.url}'`);let outletName;path.indexOf(":")>-1?(outletName=path.slice(0,path.indexOf(":")),this.capture(outletName),this.capture(":")):allowPrimary&&(outletName="primary");const children=this.parseChildren();segments[outletName]=1===Object.keys(children).length?children.primary:new UrlSegmentGroup([],children),this.consumeOptional("//")}return segments}peekStartsWith(str){return this.remaining.startsWith(str)}consumeOptional(str){return!!this.peekStartsWith(str)&&(this.remaining=this.remaining.substring(str.length),!0)}capture(str){if(!this.consumeOptional(str))throw new ɵRuntimeError(4011,NG_DEV_MODE$9&&`Expected "${str}".`)}}function createRoot(rootCandidate){return rootCandidate.segments.length>0?new UrlSegmentGroup([],{primary:rootCandidate}):rootCandidate}function squashSegmentGroup(segmentGroup){const newChildren={};for(const childOutlet of Object.keys(segmentGroup.children)){const childCandidate=squashSegmentGroup(segmentGroup.children[childOutlet]);(childCandidate.segments.length>0||childCandidate.hasChildren())&&(newChildren[childOutlet]=childCandidate)}return function(s){if(1===s.numberOfChildren&&s.children.primary){const c=s.children.primary;return new UrlSegmentGroup(s.segments.concat(c.segments),c.children)}return s}(new UrlSegmentGroup(segmentGroup.segments,newChildren))}function isUrlTree(v){return v instanceof UrlTree}const NG_DEV_MODE$8="undefined"==typeof ngDevMode||ngDevMode;function createUrlTreeFromSnapshot(relativeTo,commands,queryParams=null,fragment=null){return function(relativeTo,commands,queryParams,fragment){let root=relativeTo;for(;root.parent;)root=root.parent;if(0===commands.length)return tree(root,root,root,queryParams,fragment);const nav=computeNavigation(commands);if(nav.toRoot())return tree(root,root,new UrlSegmentGroup([],{}),queryParams,fragment);const position=function(nav,root,target){if(nav.isAbsolute)return new Position(root,!0,0);if(!target)return new Position(root,!1,NaN);if(null===target.parent)return new Position(target,!0,0);const modifier=isMatrixParams(nav.commands[0])?0:1,index=target.segments.length-1+modifier;return createPositionApplyingDoubleDots(target,index,nav.numberOfDoubleDots)}(nav,root,relativeTo),newSegmentGroup=position.processChildren?updateSegmentGroupChildren(position.segmentGroup,position.index,nav.commands):updateSegmentGroup(position.segmentGroup,position.index,nav.commands);return tree(root,position.segmentGroup,newSegmentGroup,queryParams,fragment)}(function(route){let targetGroup;function createSegmentGroupFromRouteRecursive(currentRoute){const childOutlets={};for(const childSnapshot of currentRoute.children){const root=createSegmentGroupFromRouteRecursive(childSnapshot);childOutlets[childSnapshot.outlet]=root}const segmentGroup=new UrlSegmentGroup(currentRoute.url,childOutlets);return currentRoute===route&&(targetGroup=segmentGroup),segmentGroup}const rootSegmentGroup=createRoot(createSegmentGroupFromRouteRecursive(route.root));return targetGroup??rootSegmentGroup}(relativeTo),commands,queryParams,fragment)}function createUrlTree(route,urlTree,commands,queryParams,fragment){if(0===commands.length)return tree(urlTree.root,urlTree.root,urlTree.root,queryParams,fragment);const nav=computeNavigation(commands);if(nav.toRoot())return tree(urlTree.root,urlTree.root,new UrlSegmentGroup([],{}),queryParams,fragment);function createTreeUsingPathIndex(lastPathIndex){const startingPosition=function(nav,tree,segmentGroup,lastPathIndex){if(nav.isAbsolute)return new Position(tree.root,!0,0);if(-1===lastPathIndex){const processChildren=segmentGroup===tree.root;return new Position(segmentGroup,processChildren,0)}const modifier=isMatrixParams(nav.commands[0])?0:1,index=lastPathIndex+modifier;return createPositionApplyingDoubleDots(segmentGroup,index,nav.numberOfDoubleDots)}(nav,urlTree,route.snapshot?._urlSegment,lastPathIndex),segmentGroup=startingPosition.processChildren?updateSegmentGroupChildren(startingPosition.segmentGroup,startingPosition.index,nav.commands):updateSegmentGroup(startingPosition.segmentGroup,startingPosition.index,nav.commands);return tree(urlTree.root,startingPosition.segmentGroup,segmentGroup,queryParams,fragment)}const result=createTreeUsingPathIndex(route.snapshot?._lastPathIndex);if("undefined"==typeof ngDevMode||ngDevMode){const correctedResult=createTreeUsingPathIndex(route.snapshot?._correctedLastPathIndex);correctedResult.toString()!==result.toString()&&console.warn(`relativeLinkResolution: 'legacy' is deprecated and will be removed in a future version of Angular. The link to ${result.toString()} will change to ${correctedResult.toString()} if the code is not updated before then.`)}return result}function isMatrixParams(command){return"object"==typeof command&&null!=command&&!command.outlets&&!command.segmentPath}function isCommandWithOutlets(command){return"object"==typeof command&&null!=command&&command.outlets}function tree(oldRoot,oldSegmentGroup,newSegmentGroup,queryParams,fragment){let rootCandidate,qp={};queryParams&&forEach(queryParams,(value,name)=>{qp[name]=Array.isArray(value)?value.map(v=>`${v}`):`${value}`}),rootCandidate=oldRoot===oldSegmentGroup?newSegmentGroup:replaceSegment(oldRoot,oldSegmentGroup,newSegmentGroup);const newRoot=createRoot(squashSegmentGroup(rootCandidate));return new UrlTree(newRoot,qp,fragment)}function replaceSegment(current,oldSegment,newSegment){const children={};return forEach(current.children,(c,outletName)=>{children[outletName]=c===oldSegment?newSegment:replaceSegment(c,oldSegment,newSegment)}),new UrlSegmentGroup(current.segments,children)}class Navigation{constructor(isAbsolute,numberOfDoubleDots,commands){if(this.isAbsolute=isAbsolute,this.numberOfDoubleDots=numberOfDoubleDots,this.commands=commands,isAbsolute&&commands.length>0&&isMatrixParams(commands[0]))throw new ɵRuntimeError(4003,NG_DEV_MODE$8&&"Root segment cannot have matrix parameters");const cmdWithOutlet=commands.find(isCommandWithOutlets);if(cmdWithOutlet&&cmdWithOutlet!==last(commands))throw new ɵRuntimeError(4004,NG_DEV_MODE$8&&"{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}function computeNavigation(commands){if("string"==typeof commands[0]&&1===commands.length&&"/"===commands[0])return new Navigation(!0,0,commands);let numberOfDoubleDots=0,isAbsolute=!1;const res=commands.reduce((res,cmd,cmdIdx)=>{if("object"==typeof cmd&&null!=cmd){if(cmd.outlets){const outlets={};return forEach(cmd.outlets,(commands,name)=>{outlets[name]="string"==typeof commands?commands.split("/"):commands}),[...res,{outlets:outlets}]}if(cmd.segmentPath)return[...res,cmd.segmentPath]}return"string"!=typeof cmd?[...res,cmd]:0===cmdIdx?(cmd.split("/").forEach((urlPart,partIndex)=>{0==partIndex&&"."===urlPart||(0==partIndex&&""===urlPart?isAbsolute=!0:".."===urlPart?numberOfDoubleDots++:""!=urlPart&&res.push(urlPart))}),res):[...res,cmd]},[]);return new Navigation(isAbsolute,numberOfDoubleDots,res)}class Position{constructor(segmentGroup,processChildren,index){this.segmentGroup=segmentGroup,this.processChildren=processChildren,this.index=index}}function createPositionApplyingDoubleDots(group,index,numberOfDoubleDots){let g=group,ci=index,dd=numberOfDoubleDots;for(;dd>ci;){if(dd-=ci,g=g.parent,!g)throw new ɵRuntimeError(4005,NG_DEV_MODE$8&&"Invalid number of '../'");ci=g.segments.length}return new Position(g,!1,ci-dd)}function updateSegmentGroup(segmentGroup,startIndex,commands){if(segmentGroup||(segmentGroup=new UrlSegmentGroup([],{})),0===segmentGroup.segments.length&&segmentGroup.hasChildren())return updateSegmentGroupChildren(segmentGroup,startIndex,commands);const m=function(segmentGroup,startIndex,commands){let currentCommandIndex=0,currentPathIndex=startIndex;const noMatch={match:!1,pathIndex:0,commandIndex:0};for(;currentPathIndex<segmentGroup.segments.length;){if(currentCommandIndex>=commands.length)return noMatch;const path=segmentGroup.segments[currentPathIndex],command=commands[currentCommandIndex];if(isCommandWithOutlets(command))break;const curr=`${command}`,next=currentCommandIndex<commands.length-1?commands[currentCommandIndex+1]:null;if(currentPathIndex>0&&void 0===curr)break;if(curr&&next&&"object"==typeof next&&void 0===next.outlets){if(!compare(curr,next,path))return noMatch;currentCommandIndex+=2}else{if(!compare(curr,{},path))return noMatch;currentCommandIndex++}currentPathIndex++}return{match:!0,pathIndex:currentPathIndex,commandIndex:currentCommandIndex}}(segmentGroup,startIndex,commands),slicedCommands=commands.slice(m.commandIndex);if(m.match&&m.pathIndex<segmentGroup.segments.length){const g=new UrlSegmentGroup(segmentGroup.segments.slice(0,m.pathIndex),{});return g.children.primary=new UrlSegmentGroup(segmentGroup.segments.slice(m.pathIndex),segmentGroup.children),updateSegmentGroupChildren(g,0,slicedCommands)}return m.match&&0===slicedCommands.length?new UrlSegmentGroup(segmentGroup.segments,{}):m.match&&!segmentGroup.hasChildren()?createNewSegmentGroup(segmentGroup,startIndex,commands):m.match?updateSegmentGroupChildren(segmentGroup,0,slicedCommands):createNewSegmentGroup(segmentGroup,startIndex,commands)}function updateSegmentGroupChildren(segmentGroup,startIndex,commands){if(0===commands.length)return new UrlSegmentGroup(segmentGroup.segments,{});{const outlets=function(commands){return isCommandWithOutlets(commands[0])?commands[0].outlets:{primary:commands}}(commands),children={};return forEach(outlets,(commands,outlet)=>{"string"==typeof commands&&(commands=[commands]),null!==commands&&(children[outlet]=updateSegmentGroup(segmentGroup.children[outlet],startIndex,commands))}),forEach(segmentGroup.children,(child,childOutlet)=>{void 0===outlets[childOutlet]&&(children[childOutlet]=child)}),new UrlSegmentGroup(segmentGroup.segments,children)}}function createNewSegmentGroup(segmentGroup,startIndex,commands){const paths=segmentGroup.segments.slice(0,startIndex);let i=0;for(;i<commands.length;){const command=commands[i];if(isCommandWithOutlets(command)){const children=createNewSegmentChildren(command.outlets);return new UrlSegmentGroup(paths,children)}if(0===i&&isMatrixParams(commands[0])){const p=segmentGroup.segments[startIndex];paths.push(new UrlSegment(p.path,stringify(commands[0]))),i++;continue}const curr=isCommandWithOutlets(command)?command.outlets.primary:`${command}`,next=i<commands.length-1?commands[i+1]:null;curr&&next&&isMatrixParams(next)?(paths.push(new UrlSegment(curr,stringify(next))),i+=2):(paths.push(new UrlSegment(curr,{})),i++)}return new UrlSegmentGroup(paths,{})}function createNewSegmentChildren(outlets){const children={};return forEach(outlets,(commands,outlet)=>{"string"==typeof commands&&(commands=[commands]),null!==commands&&(children[outlet]=createNewSegmentGroup(new UrlSegmentGroup([],{}),0,commands))}),children}function stringify(params){const res={};return forEach(params,(v,k)=>res[k]=`${v}`),res}function compare(path,params,segment){return path==segment.path&&shallowEqual(params,segment.parameters)}class RouterEvent{constructor(id,url){this.id=id,this.url=url}}class NavigationStart extends RouterEvent{constructor(id,url,navigationTrigger="imperative",restoredState=null){super(id,url),this.type=0,this.navigationTrigger=navigationTrigger,this.restoredState=restoredState}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class NavigationEnd extends RouterEvent{constructor(id,url,urlAfterRedirects){super(id,url),this.urlAfterRedirects=urlAfterRedirects,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class NavigationCancel extends RouterEvent{constructor(id,url,reason,code){super(id,url),this.reason=reason,this.code=code,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class NavigationError extends RouterEvent{constructor(id,url,error,target){super(id,url),this.error=error,this.target=target,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class RoutesRecognized extends RouterEvent{constructor(id,url,urlAfterRedirects,state){super(id,url),this.urlAfterRedirects=urlAfterRedirects,this.state=state,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class GuardsCheckStart extends RouterEvent{constructor(id,url,urlAfterRedirects,state){super(id,url),this.urlAfterRedirects=urlAfterRedirects,this.state=state,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class GuardsCheckEnd extends RouterEvent{constructor(id,url,urlAfterRedirects,state,shouldActivate){super(id,url),this.urlAfterRedirects=urlAfterRedirects,this.state=state,this.shouldActivate=shouldActivate,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class ResolveStart extends RouterEvent{constructor(id,url,urlAfterRedirects,state){super(id,url),this.urlAfterRedirects=urlAfterRedirects,this.state=state,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ResolveEnd extends RouterEvent{constructor(id,url,urlAfterRedirects,state){super(id,url),this.urlAfterRedirects=urlAfterRedirects,this.state=state,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class RouteConfigLoadStart{constructor(route){this.route=route,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class RouteConfigLoadEnd{constructor(route){this.route=route,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class ChildActivationStart{constructor(snapshot){this.snapshot=snapshot,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ChildActivationEnd{constructor(snapshot){this.snapshot=snapshot,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ActivationStart{constructor(snapshot){this.snapshot=snapshot,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ActivationEnd{constructor(snapshot){this.snapshot=snapshot,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Scroll{constructor(routerEvent,position,anchor){this.routerEvent=routerEvent,this.position=position,this.anchor=anchor,this.type=15}toString(){const pos=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${pos}')`}}class Tree{constructor(root){this._root=root}get root(){return this._root.value}parent(t){const p=this.pathFromRoot(t);return p.length>1?p[p.length-2]:null}children(t){const n=findNode(t,this._root);return n?n.children.map(t=>t.value):[]}firstChild(t){const n=findNode(t,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(t){const p=findPath(t,this._root);if(p.length<2)return[];return p[p.length-2].children.map(c=>c.value).filter(cc=>cc!==t)}pathFromRoot(t){return findPath(t,this._root).map(s=>s.value)}}function findNode(value,node){if(value===node.value)return node;for(const child of node.children){const node=findNode(value,child);if(node)return node}return null}function findPath(value,node){if(value===node.value)return[node];for(const child of node.children){const path=findPath(value,child);if(path.length)return path.unshift(node),path}return[]}class TreeNode{constructor(value,children){this.value=value,this.children=children}toString(){return`TreeNode(${this.value})`}}function nodeChildrenAsMap(node){const map={};return node&&node.children.forEach(child=>map[child.value.outlet]=child),map}class RouterState extends Tree{constructor(root,snapshot){super(root),this.snapshot=snapshot,setRouterState(this,root)}toString(){return this.snapshot.toString()}}function createEmptyState(urlTree,rootComponent){const snapshot=function(urlTree,rootComponent){const emptyParams={},emptyData={},emptyQueryParams={},fragment="",activated=new ActivatedRouteSnapshot([],emptyParams,emptyQueryParams,fragment,emptyData,"primary",rootComponent,null,urlTree.root,-1,{});return new RouterStateSnapshot("",new TreeNode(activated,[]))}(urlTree,rootComponent),emptyUrl=new BehaviorSubject([new UrlSegment("",{})]),emptyParams=new BehaviorSubject({}),emptyData=new BehaviorSubject({}),emptyQueryParams=new BehaviorSubject({}),fragment=new BehaviorSubject(""),activated=new ActivatedRoute(emptyUrl,emptyParams,emptyQueryParams,fragment,emptyData,"primary",rootComponent,snapshot.root);return activated.snapshot=snapshot.root,new RouterState(new TreeNode(activated,[]),snapshot)}class ActivatedRoute{constructor(url,params,queryParams,fragment,data,outlet,component,futureSnapshot){this.url=url,this.params=params,this.queryParams=queryParams,this.fragment=fragment,this.data=data,this.outlet=outlet,this.component=component,this.title=this.data?.pipe(map(d=>d[RouteTitleKey]))??of(void 0),this._futureSnapshot=futureSnapshot}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(map(p=>convertToParamMap(p)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(map(p=>convertToParamMap(p)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function inheritedParamsDataResolve(route,paramsInheritanceStrategy="emptyOnly"){const pathFromRoot=route.pathFromRoot;let inheritingStartingFrom=0;if("always"!==paramsInheritanceStrategy)for(inheritingStartingFrom=pathFromRoot.length-1;inheritingStartingFrom>=1;){const current=pathFromRoot[inheritingStartingFrom],parent=pathFromRoot[inheritingStartingFrom-1];if(current.routeConfig&&""===current.routeConfig.path)inheritingStartingFrom--;else{if(parent.component)break;inheritingStartingFrom--}}return function(pathFromRoot){return pathFromRoot.reduce((res,curr)=>({params:{...res.params,...curr.params},data:{...res.data,...curr.data},resolve:{...curr.data,...res.resolve,...curr.routeConfig?.data,...curr._resolvedData}}),{params:{},data:{},resolve:{}})}(pathFromRoot.slice(inheritingStartingFrom))}class ActivatedRouteSnapshot{constructor(url,params,queryParams,fragment,data,outlet,component,routeConfig,urlSegment,lastPathIndex,resolve,correctedLastPathIndex){this.url=url,this.params=params,this.queryParams=queryParams,this.fragment=fragment,this.data=data,this.outlet=outlet,this.component=component,this.title=this.data?.[RouteTitleKey],this.routeConfig=routeConfig,this._urlSegment=urlSegment,this._lastPathIndex=lastPathIndex,this._correctedLastPathIndex=correctedLastPathIndex??lastPathIndex,this._resolve=resolve}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=convertToParamMap(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=convertToParamMap(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(segment=>segment.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class RouterStateSnapshot extends Tree{constructor(url,root){super(root),this.url=url,setRouterState(this,root)}toString(){return serializeNode(this._root)}}function setRouterState(state,node){node.value._routerState=state,node.children.forEach(c=>setRouterState(state,c))}function serializeNode(node){const c=node.children.length>0?` { ${node.children.map(serializeNode).join(", ")} } `:"";return`${node.value}${c}`}function advanceActivatedRoute(route){if(route.snapshot){const currentSnapshot=route.snapshot,nextSnapshot=route._futureSnapshot;route.snapshot=nextSnapshot,shallowEqual(currentSnapshot.queryParams,nextSnapshot.queryParams)||route.queryParams.next(nextSnapshot.queryParams),currentSnapshot.fragment!==nextSnapshot.fragment&&route.fragment.next(nextSnapshot.fragment),shallowEqual(currentSnapshot.params,nextSnapshot.params)||route.params.next(nextSnapshot.params),function(a,b){if(a.length!==b.length)return!1;for(let i=0;i<a.length;++i)if(!shallowEqual(a[i],b[i]))return!1;return!0}(currentSnapshot.url,nextSnapshot.url)||route.url.next(nextSnapshot.url),shallowEqual(currentSnapshot.data,nextSnapshot.data)||route.data.next(nextSnapshot.data)}else route.snapshot=route._futureSnapshot,route.data.next(route._futureSnapshot.data)}function equalParamsAndUrlSegments(a,b){const equalUrlParams=shallowEqual(a.params,b.params)&&(as=a.url,bs=b.url,equalPath(as,bs)&&as.every((a,i)=>shallowEqual(a.parameters,bs[i].parameters)));var as,bs;const parentsMismatch=!a.parent!=!b.parent;return equalUrlParams&&!parentsMismatch&&(!a.parent||equalParamsAndUrlSegments(a.parent,b.parent))}function createNode(routeReuseStrategy,curr,prevState){if(prevState&&routeReuseStrategy.shouldReuseRoute(curr.value,prevState.value.snapshot)){const value=prevState.value;value._futureSnapshot=curr.value;const children=function(routeReuseStrategy,curr,prevState){return curr.children.map(child=>{for(const p of prevState.children)if(routeReuseStrategy.shouldReuseRoute(child.value,p.value.snapshot))return createNode(routeReuseStrategy,child,p);return createNode(routeReuseStrategy,child)})}(routeReuseStrategy,curr,prevState);return new TreeNode(value,children)}{if(routeReuseStrategy.shouldAttach(curr.value)){const detachedRouteHandle=routeReuseStrategy.retrieve(curr.value);if(null!==detachedRouteHandle){const tree=detachedRouteHandle.route;return tree.value._futureSnapshot=curr.value,tree.children=curr.children.map(c=>createNode(routeReuseStrategy,c)),tree}}const value=(c=curr.value,new ActivatedRoute(new BehaviorSubject(c.url),new BehaviorSubject(c.params),new BehaviorSubject(c.queryParams),new BehaviorSubject(c.fragment),new BehaviorSubject(c.data),c.outlet,c.component,c)),children=curr.children.map(c=>createNode(routeReuseStrategy,c));return new TreeNode(value,children)}var c}function redirectingNavigationError(urlSerializer,redirect){const{redirectTo:redirectTo,navigationBehaviorOptions:navigationBehaviorOptions}=isUrlTree(redirect)?{redirectTo:redirect,navigationBehaviorOptions:void 0}:redirect,error=navigationCancelingError(ngDevMode&&`Redirecting to "${urlSerializer.serialize(redirectTo)}"`,0,redirect);return error.url=redirectTo,error.navigationBehaviorOptions=navigationBehaviorOptions,error}function navigationCancelingError(message,code,redirectUrl){const error=new Error("NavigationCancelingError: "+(message||""));return error.ngNavigationCancelingError=!0,error.cancellationCode=code,redirectUrl&&(error.url=redirectUrl),error}function isRedirectingNavigationCancelingError$1(error){return isNavigationCancelingError$1(error)&&isUrlTree(error.url)}function isNavigationCancelingError$1(error){return error&&error.ngNavigationCancelingError}class OutletContext{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new ChildrenOutletContexts,this.attachRef=null}}class ChildrenOutletContexts{constructor(){this.contexts=new Map}onChildOutletCreated(childName,outlet){const context=this.getOrCreateContext(childName);context.outlet=outlet,this.contexts.set(childName,context)}onChildOutletDestroyed(childName){const context=this.getContext(childName);context&&(context.outlet=null,context.attachRef=null)}onOutletDeactivated(){const contexts=this.contexts;return this.contexts=new Map,contexts}onOutletReAttached(contexts){this.contexts=contexts}getOrCreateContext(childName){let context=this.getContext(childName);return context||(context=new OutletContext,this.contexts.set(childName,context)),context}getContext(childName){return this.contexts.get(childName)||null}}ChildrenOutletContexts.ɵfac=function ChildrenOutletContexts_Factory(t){return new(t||ChildrenOutletContexts)},ChildrenOutletContexts.ɵprov=/* @__PURE__ */i0.ɵɵdefineInjectable({token:ChildrenOutletContexts,factory:ChildrenOutletContexts.ɵfac,providedIn:"root"}),function(){(typeof ngDevMode==="undefined"||ngDevMode)&&i0.ɵsetClassMetadata(ChildrenOutletContexts,[{type:Injectable,args:[{providedIn:"root"}]}],null,null)}();const NG_DEV_MODE$7="undefined"==typeof ngDevMode||ngDevMode;class RouterOutlet{constructor(parentContexts,location,name,changeDetector,environmentInjector){this.parentContexts=parentContexts,this.location=location,this.changeDetector=changeDetector,this.environmentInjector=environmentInjector,this.activated=null,this._activatedRoute=null,this.activateEvents=new EventEmitter,this.deactivateEvents=new EventEmitter,this.attachEvents=new EventEmitter,this.detachEvents=new EventEmitter,this.name=name||"primary",parentContexts.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.getContext(this.name)?.outlet===this&&this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const context=this.parentContexts.getContext(this.name);context&&context.route&&(context.attachRef?this.attach(context.attachRef,context.route):this.activateWith(context.route,context.injector))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new ɵRuntimeError(4012,NG_DEV_MODE$7&&"Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new ɵRuntimeError(4012,NG_DEV_MODE$7&&"Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new ɵRuntimeError(4012,NG_DEV_MODE$7&&"Outlet is not activated");this.location.detach();const cmp=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(cmp.instance),cmp}attach(ref,activatedRoute){this.activated=ref,this._activatedRoute=activatedRoute,this.location.insert(ref.hostView),this.attachEvents.emit(ref.instance)}deactivate(){if(this.activated){const c=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(c)}}activateWith(activatedRoute,resolverOrInjector){if(this.isActivated)throw new ɵRuntimeError(4013,NG_DEV_MODE$7&&"Cannot activate an already activated outlet");this._activatedRoute=activatedRoute;const location=this.location,component=activatedRoute._futureSnapshot.component,childContexts=this.parentContexts.getOrCreateContext(this.name).children,injector=new OutletInjector(activatedRoute,childContexts,location.injector);if(resolverOrInjector&&resolverOrInjector.resolveComponentFactory){const factory=resolverOrInjector.resolveComponentFactory(component);this.activated=location.createComponent(factory,location.length,injector)}else{const environmentInjector=resolverOrInjector??this.environmentInjector;this.activated=location.createComponent(component,{index:location.length,injector:injector,environmentInjector:environmentInjector})}this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}RouterOutlet.ɵfac=function RouterOutlet_Factory(t){return new(t||RouterOutlet)(i0.ɵɵdirectiveInject(ChildrenOutletContexts),i0.ɵɵdirectiveInject(i0.ViewContainerRef),i0.ɵɵinjectAttribute("name"),i0.ɵɵdirectiveInject(i0.ChangeDetectorRef),i0.ɵɵdirectiveInject(i0.EnvironmentInjector))},RouterOutlet.ɵdir=/* @__PURE__ */i0.ɵɵdefineDirective({type:RouterOutlet,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:true}),function(){(typeof ngDevMode==="undefined"||ngDevMode)&&i0.ɵsetClassMetadata(RouterOutlet,[{type:Directive,args:[{selector:"router-outlet",exportAs:"outlet",standalone:!0}]}],function(){return[{type:ChildrenOutletContexts},{type:i0.ViewContainerRef},{type:void 0,decorators:[{type:Attribute,args:["name"]}]},{type:i0.ChangeDetectorRef},{type:i0.EnvironmentInjector}]},{activateEvents:[{type:Output,args:["activate"]}],deactivateEvents:[{type:Output,args:["deactivate"]}],attachEvents:[{type:Output,args:["attach"]}],detachEvents:[{type:Output,args:["detach"]}]})}();class OutletInjector{constructor(route,childContexts,parent){this.route=route,this.childContexts=childContexts,this.parent=parent}get(token,notFoundValue){return token===ActivatedRoute?this.route:token===ChildrenOutletContexts?this.childContexts:this.parent.get(token,notFoundValue)}}class ɵEmptyOutletComponent{}function getOrCreateRouteInjectorIfNeeded(route,currentInjector){return route.providers&&!route._injector&&(route._injector=createEnvironmentInjector(route.providers,currentInjector,`Route: ${route.path}`)),route._injector??currentInjector}function validateConfig(config,parentPath="",requireStandaloneComponents=!1){for(let i=0;i<config.length;i++){const route=config[i];validateNode(route,getFullPath(parentPath,route),requireStandaloneComponents)}}function assertStandalone(fullPath,component){if(component&&!ɵisStandalone(component))throw new ɵRuntimeError(4014,`Invalid configuration of route '${fullPath}'. The component must be standalone.`)}function validateNode(route,fullPath,requireStandaloneComponents){if("undefined"==typeof ngDevMode||ngDevMode){if(!route)throw new ɵRuntimeError(4014,`\n      Invalid configuration of route '${fullPath}': Encountered undefined route.\n      The reason might be an extra comma.\n\n      Example:\n      const routes: Routes = [\n        { path: '', redirectTo: '/dashboard', pathMatch: 'full' },\n        { path: 'dashboard',  component: DashboardComponent },, << two commas\n        { path: 'detail/:id', component: HeroDetailComponent }\n      ];\n    `);if(Array.isArray(route))throw new ɵRuntimeError(4014,`Invalid configuration of route '${fullPath}': Array cannot be specified`);if(!route.redirectTo&&!route.component&&!route.loadComponent&&!route.children&&!route.loadChildren&&route.outlet&&"primary"!==route.outlet)throw new ɵRuntimeError(4014,`Invalid configuration of route '${fullPath}': a componentless route without children or loadChildren cannot have a named outlet set`);if(route.redirectTo&&route.children)throw new ɵRuntimeError(4014,`Invalid configuration of route '${fullPath}': redirectTo and children cannot be used together`);if(route.redirectTo&&route.loadChildren)throw new ɵRuntimeError(4014,`Invalid configuration of route '${fullPath}': redirectTo and loadChildren cannot be used together`);if(route.children&&route.loadChildren)throw new ɵRuntimeError(4014,`Invalid configuration of route '${fullPath}': children and loadChildren cannot be used together`);if(route.redirectTo&&(route.component||route.loadComponent))throw new ɵRuntimeError(4014,`Invalid configuration of route '${fullPath}': redirectTo and component/loadComponent cannot be used together`);if(route.component&&route.loadComponent)throw new ɵRuntimeError(4014,`Invalid configuration of route '${fullPath}': component and loadComponent cannot be used together`);if(route.redirectTo&&route.canActivate)throw new ɵRuntimeError(4014,`Invalid configuration of route '${fullPath}': redirectTo and canActivate cannot be used together. Redirects happen before activation so canActivate will never be executed.`);if(route.path&&route.matcher)throw new ɵRuntimeError(4014,`Invalid configuration of route '${fullPath}': path and matcher cannot be used together`);if(!(void 0!==route.redirectTo||route.component||route.loadComponent||route.children||route.loadChildren))throw new ɵRuntimeError(4014,`Invalid configuration of route '${fullPath}'. One of the following must be provided: component, loadComponent, redirectTo, children or loadChildren`);if(void 0===route.path&&void 0===route.matcher)throw new ɵRuntimeError(4014,`Invalid configuration of route '${fullPath}': routes must have either a path or a matcher specified`);if("string"==typeof route.path&&"/"===route.path.charAt(0))throw new ɵRuntimeError(4014,`Invalid configuration of route '${fullPath}': path cannot start with a slash`);if(""===route.path&&void 0!==route.redirectTo&&void 0===route.pathMatch){const exp="The default value of 'pathMatch' is 'prefix', but often the intent is to use 'full'.";throw new ɵRuntimeError(4014,`Invalid configuration of route '{path: "${fullPath}", redirectTo: "${route.redirectTo}"}': please provide 'pathMatch'. ${exp}`)}requireStandaloneComponents&&assertStandalone(fullPath,route.component)}route.children&&validateConfig(route.children,fullPath,requireStandaloneComponents)}function getFullPath(parentPath,currentRoute){return currentRoute?parentPath||currentRoute.path?parentPath&&!currentRoute.path?`${parentPath}/`:!parentPath&&currentRoute.path?currentRoute.path:`${parentPath}/${currentRoute.path}`:"":parentPath}function standardizeConfig(r){const children=r.children&&r.children.map(standardizeConfig),c=children?{...r,children:children}:{...r};return c.component||c.loadComponent||!children&&!c.loadChildren||!c.outlet||"primary"===c.outlet||(c.component=ɵEmptyOutletComponent),c}function getOutlet(route){return route.outlet||"primary"}function sortByMatchingOutlets(routes,outletName){const sortedConfig=routes.filter(r=>getOutlet(r)===outletName);return sortedConfig.push(...routes.filter(r=>getOutlet(r)!==outletName)),sortedConfig}function getClosestRouteInjector(snapshot){if(!snapshot)return null;if(snapshot.routeConfig?._injector)return snapshot.routeConfig._injector;for(let s=snapshot.parent;s;s=s.parent){const route=s.routeConfig;if(route?._loadedInjector)return route._loadedInjector;if(route?._injector)return route._injector}return null}ɵEmptyOutletComponent.ɵfac=function ɵEmptyOutletComponent_Factory(t){return new(t||ɵEmptyOutletComponent)},ɵEmptyOutletComponent.ɵcmp=/* @__PURE__ */i0.ɵɵdefineComponent({type:ɵEmptyOutletComponent,selectors:[["ng-component"]],standalone:true,features:[i0.ɵɵStandaloneFeature],decls:1,vars:0,template:function ɵEmptyOutletComponent_Template(rf,ctx){if(rf&1){i0.ɵɵelement(0,"router-outlet")}},dependencies:[RouterOutlet],encapsulation:2}),function(){(typeof ngDevMode==="undefined"||ngDevMode)&&i0.ɵsetClassMetadata(ɵEmptyOutletComponent,[{type:Component,args:[{template:"<router-outlet></router-outlet>",imports:[RouterOutlet],standalone:!0}]}],null,null)}();class ActivateRoutes{constructor(routeReuseStrategy,futureState,currState,forwardEvent){this.routeReuseStrategy=routeReuseStrategy,this.futureState=futureState,this.currState=currState,this.forwardEvent=forwardEvent}activate(parentContexts){const futureRoot=this.futureState._root,currRoot=this.currState?this.currState._root:null;this.deactivateChildRoutes(futureRoot,currRoot,parentContexts),advanceActivatedRoute(this.futureState.root),this.activateChildRoutes(futureRoot,currRoot,parentContexts)}deactivateChildRoutes(futureNode,currNode,contexts){const children=nodeChildrenAsMap(currNode);futureNode.children.forEach(futureChild=>{const childOutletName=futureChild.value.outlet;this.deactivateRoutes(futureChild,children[childOutletName],contexts),delete children[childOutletName]}),forEach(children,(v,childName)=>{this.deactivateRouteAndItsChildren(v,contexts)})}deactivateRoutes(futureNode,currNode,parentContext){const future=futureNode.value,curr=currNode?currNode.value:null;if(future===curr){if(future.component){const context=parentContext.getContext(future.outlet);context&&this.deactivateChildRoutes(futureNode,currNode,context.children)}else this.deactivateChildRoutes(futureNode,currNode,parentContext);}else curr&&this.deactivateRouteAndItsChildren(currNode,parentContext)}deactivateRouteAndItsChildren(route,parentContexts){route.value.component&&this.routeReuseStrategy.shouldDetach(route.value.snapshot)?this.detachAndStoreRouteSubtree(route,parentContexts):this.deactivateRouteAndOutlet(route,parentContexts)}detachAndStoreRouteSubtree(route,parentContexts){const context=parentContexts.getContext(route.value.outlet),contexts=context&&route.value.component?context.children:parentContexts,children=nodeChildrenAsMap(route);for(const childOutlet of Object.keys(children))this.deactivateRouteAndItsChildren(children[childOutlet],contexts);if(context&&context.outlet){const componentRef=context.outlet.detach(),contexts=context.children.onOutletDeactivated();this.routeReuseStrategy.store(route.value.snapshot,{componentRef:componentRef,route:route,contexts:contexts})}}deactivateRouteAndOutlet(route,parentContexts){const context=parentContexts.getContext(route.value.outlet),contexts=context&&route.value.component?context.children:parentContexts,children=nodeChildrenAsMap(route);for(const childOutlet of Object.keys(children))this.deactivateRouteAndItsChildren(children[childOutlet],contexts);context&&context.outlet&&(context.outlet.deactivate(),context.children.onOutletDeactivated(),context.attachRef=null,context.resolver=null,context.route=null)}activateChildRoutes(futureNode,currNode,contexts){const children=nodeChildrenAsMap(currNode);futureNode.children.forEach(c=>{this.activateRoutes(c,children[c.value.outlet],contexts),this.forwardEvent(new ActivationEnd(c.value.snapshot))}),futureNode.children.length&&this.forwardEvent(new ChildActivationEnd(futureNode.value.snapshot))}activateRoutes(futureNode,currNode,parentContexts){const future=futureNode.value,curr=currNode?currNode.value:null;if(advanceActivatedRoute(future),future===curr){if(future.component){const context=parentContexts.getOrCreateContext(future.outlet);this.activateChildRoutes(futureNode,currNode,context.children)}else this.activateChildRoutes(futureNode,currNode,parentContexts);}else if(future.component){const context=parentContexts.getOrCreateContext(future.outlet);if(this.routeReuseStrategy.shouldAttach(future.snapshot)){const stored=this.routeReuseStrategy.retrieve(future.snapshot);this.routeReuseStrategy.store(future.snapshot,null),context.children.onOutletReAttached(stored.contexts),context.attachRef=stored.componentRef,context.route=stored.route.value,context.outlet&&context.outlet.attach(stored.componentRef,stored.route.value),advanceActivatedRoute(stored.route.value),this.activateChildRoutes(futureNode,null,context.children)}else{const injector=getClosestRouteInjector(future.snapshot),cmpFactoryResolver=injector?.get(ComponentFactoryResolver)??null;context.attachRef=null,context.route=future,context.resolver=cmpFactoryResolver,context.injector=injector,context.outlet&&context.outlet.activateWith(future,context.injector),this.activateChildRoutes(futureNode,null,context.children)}}else this.activateChildRoutes(futureNode,null,parentContexts)}}class CanActivate{constructor(path){this.path=path,this.route=this.path[this.path.length-1]}}class CanDeactivate{constructor(component,route){this.component=component,this.route=route}}function getAllRouteGuards(future,curr,parentContexts){const futureRoot=future._root;return getChildRouteGuards(futureRoot,curr?curr._root:null,parentContexts,[futureRoot.value])}function getTokenOrFunctionIdentity(tokenOrFunction,injector){const NOT_FOUND=Symbol(),result=injector.get(tokenOrFunction,NOT_FOUND);return result===NOT_FOUND?"function"!=typeof tokenOrFunction||ɵisInjectable(tokenOrFunction)?injector.get(tokenOrFunction):tokenOrFunction:result}function getChildRouteGuards(futureNode,currNode,contexts,futurePath,checks={canDeactivateChecks:[],canActivateChecks:[]}){const prevChildren=nodeChildrenAsMap(currNode);return futureNode.children.forEach(c=>{!function(futureNode,currNode,parentContexts,futurePath,checks={canDeactivateChecks:[],canActivateChecks:[]}){const future=futureNode.value,curr=currNode?currNode.value:null,context=parentContexts?parentContexts.getContext(futureNode.value.outlet):null;if(curr&&future.routeConfig===curr.routeConfig){const shouldRun=function(curr,future,mode){if("function"==typeof mode)return mode(curr,future);switch(mode){case"pathParamsChange":return!equalPath(curr.url,future.url);case"pathParamsOrQueryParamsChange":return!equalPath(curr.url,future.url)||!shallowEqual(curr.queryParams,future.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!equalParamsAndUrlSegments(curr,future)||!shallowEqual(curr.queryParams,future.queryParams);default:return!equalParamsAndUrlSegments(curr,future);}}(curr,future,future.routeConfig.runGuardsAndResolvers);shouldRun?checks.canActivateChecks.push(new CanActivate(futurePath)):(future.data=curr.data,future._resolvedData=curr._resolvedData),future.component?getChildRouteGuards(futureNode,currNode,context?context.children:null,futurePath,checks):getChildRouteGuards(futureNode,currNode,parentContexts,futurePath,checks),shouldRun&&context&&context.outlet&&context.outlet.isActivated&&checks.canDeactivateChecks.push(new CanDeactivate(context.outlet.component,curr))}else curr&&deactivateRouteAndItsChildren(currNode,context,checks),checks.canActivateChecks.push(new CanActivate(futurePath)),future.component?getChildRouteGuards(futureNode,null,context?context.children:null,futurePath,checks):getChildRouteGuards(futureNode,null,parentContexts,futurePath,checks)}(c,prevChildren[c.value.outlet],contexts,futurePath.concat([c.value]),checks),delete prevChildren[c.value.outlet]}),forEach(prevChildren,(v,k)=>deactivateRouteAndItsChildren(v,contexts.getContext(k),checks)),checks}function deactivateRouteAndItsChildren(route,context,checks){const children=nodeChildrenAsMap(route),r=route.value;forEach(children,(node,childName)=>{r.component?deactivateRouteAndItsChildren(node,context?context.children.getContext(childName):null,checks):deactivateRouteAndItsChildren(node,context,checks)}),r.component&&context&&context.outlet&&context.outlet.isActivated?checks.canDeactivateChecks.push(new CanDeactivate(context.outlet.component,r)):checks.canDeactivateChecks.push(new CanDeactivate(null,r))}function isFunction(v){return"function"==typeof v}function isEmptyError(e){return e instanceof EmptyError||"EmptyError"===e?.name}const INITIAL_VALUE=Symbol("INITIAL_VALUE");function prioritizedGuardValue(){return switchMap(obs=>combineLatest(obs.map(o=>o.pipe(take(1),startWith(INITIAL_VALUE)))).pipe(map(results=>{for(const result of results)if(!0!==result){if(result===INITIAL_VALUE)return INITIAL_VALUE;if(!1===result||result instanceof UrlTree)return result}return!0}),filter(item=>item!==INITIAL_VALUE),take(1)))}function checkGuards(injector,forwardEvent){return mergeMap(t=>{const{targetSnapshot:targetSnapshot,currentSnapshot:currentSnapshot,guards:{canActivateChecks:canActivateChecks,canDeactivateChecks:canDeactivateChecks}}=t;return 0===canDeactivateChecks.length&&0===canActivateChecks.length?of({...t,guardsResult:!0}):function(checks,futureRSS,currRSS,injector){return from(checks).pipe(mergeMap(check=>function(component,currARS,currRSS,futureRSS,injector){const canDeactivate=currARS&&currARS.routeConfig?currARS.routeConfig.canDeactivate:null;if(!canDeactivate||0===canDeactivate.length)return of(!0);const canDeactivateObservables=canDeactivate.map(c=>{const closestInjector=getClosestRouteInjector(currARS)??injector,guard=getTokenOrFunctionIdentity(c,closestInjector);return wrapIntoObservable(function(guard){return guard&&isFunction(guard.canDeactivate)}(guard)?guard.canDeactivate(component,currARS,currRSS,futureRSS):closestInjector.runInContext(()=>guard(component,currARS,currRSS,futureRSS))).pipe(first())});return of(canDeactivateObservables).pipe(prioritizedGuardValue())}(check.component,check.route,currRSS,futureRSS,injector)),first(result=>!0!==result,!0))}(canDeactivateChecks,targetSnapshot,currentSnapshot,injector).pipe(mergeMap(canDeactivate=>canDeactivate&&"boolean"==typeof canDeactivate?function(futureSnapshot,checks,injector,forwardEvent){return from(checks).pipe(concatMap(check=>concat(function(snapshot,forwardEvent){null!==snapshot&&forwardEvent&&forwardEvent(new ChildActivationStart(snapshot));return of(!0)}(check.route.parent,forwardEvent),function(snapshot,forwardEvent){null!==snapshot&&forwardEvent&&forwardEvent(new ActivationStart(snapshot));return of(!0)}(check.route,forwardEvent),function(futureRSS,path,injector){const futureARS=path[path.length-1],canActivateChildGuardsMapped=path.slice(0,path.length-1).reverse().map(p=>function(p){const canActivateChild=p.routeConfig?p.routeConfig.canActivateChild:null;return canActivateChild&&0!==canActivateChild.length?{node:p,guards:canActivateChild}:null}(p)).filter(_=>null!==_).map(d=>defer(()=>{const guardsMapped=d.guards.map(canActivateChild=>{const closestInjector=getClosestRouteInjector(d.node)??injector,guard=getTokenOrFunctionIdentity(canActivateChild,closestInjector);return wrapIntoObservable(function(guard){return guard&&isFunction(guard.canActivateChild)}(guard)?guard.canActivateChild(futureARS,futureRSS):closestInjector.runInContext(()=>guard(futureARS,futureRSS))).pipe(first())});return of(guardsMapped).pipe(prioritizedGuardValue())}));return of(canActivateChildGuardsMapped).pipe(prioritizedGuardValue())}(futureSnapshot,check.path,injector),function(futureRSS,futureARS,injector){const canActivate=futureARS.routeConfig?futureARS.routeConfig.canActivate:null;if(!canActivate||0===canActivate.length)return of(!0);const canActivateObservables=canActivate.map(canActivate=>defer(()=>{const closestInjector=getClosestRouteInjector(futureARS)??injector,guard=getTokenOrFunctionIdentity(canActivate,closestInjector);return wrapIntoObservable(function(guard){return guard&&isFunction(guard.canActivate)}(guard)?guard.canActivate(futureARS,futureRSS):closestInjector.runInContext(()=>guard(futureARS,futureRSS))).pipe(first())}));return of(canActivateObservables).pipe(prioritizedGuardValue())}(futureSnapshot,check.route,injector))),first(result=>!0!==result,!0))}(targetSnapshot,canActivateChecks,injector,forwardEvent):of(canDeactivate)),map(guardsResult=>({...t,guardsResult:guardsResult})))})}function runCanLoadGuards(injector,route,segments,urlSerializer){const canLoad=route.canLoad;if(void 0===canLoad||0===canLoad.length)return of(!0);const canLoadObservables=canLoad.map(injectionToken=>{const guard=getTokenOrFunctionIdentity(injectionToken,injector);return wrapIntoObservable(function(guard){return guard&&isFunction(guard.canLoad)}(guard)?guard.canLoad(route,segments):injector.runInContext(()=>guard(route,segments)))});return of(canLoadObservables).pipe(prioritizedGuardValue(),redirectIfUrlTree(urlSerializer))}function redirectIfUrlTree(urlSerializer){return pipe(tap(result=>{if(isUrlTree(result))throw redirectingNavigationError(urlSerializer,result)}),map(result=>!0===result))}function runCanMatchGuards(injector,route,segments,urlSerializer){const canMatch=route.canMatch;if(!canMatch||0===canMatch.length)return of(!0);const canMatchObservables=canMatch.map(injectionToken=>{const guard=getTokenOrFunctionIdentity(injectionToken,injector);return wrapIntoObservable(function(guard){return guard&&isFunction(guard.canMatch)}(guard)?guard.canMatch(route,segments):injector.runInContext(()=>guard(route,segments)))});return of(canMatchObservables).pipe(prioritizedGuardValue(),redirectIfUrlTree(urlSerializer))}const noMatch$1={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function matchWithChecks(segmentGroup,route,segments,injector,urlSerializer){const result=match(segmentGroup,route,segments);return result.matched?runCanMatchGuards(injector=getOrCreateRouteInjectorIfNeeded(route,injector),route,segments,urlSerializer).pipe(map(v=>!0===v?result:{...noMatch$1})):of(result)}function match(segmentGroup,route,segments){if(""===route.path)return"full"===route.pathMatch&&(segmentGroup.hasChildren()||segments.length>0)?{...noMatch$1}:{matched:!0,consumedSegments:[],remainingSegments:segments,parameters:{},positionalParamSegments:{}};const res=(route.matcher||defaultUrlMatcher)(segments,segmentGroup,route);if(!res)return{...noMatch$1};const posParams={};forEach(res.posParams,(v,k)=>{posParams[k]=v.path});const parameters=res.consumed.length>0?{...posParams,...res.consumed[res.consumed.length-1].parameters}:posParams;return{matched:!0,consumedSegments:res.consumed,remainingSegments:segments.slice(res.consumed.length),parameters:parameters,positionalParamSegments:res.posParams??{}}}function split(segmentGroup,consumedSegments,slicedSegments,config,relativeLinkResolution="corrected"){if(slicedSegments.length>0&&function(segmentGroup,slicedSegments,routes){return routes.some(r=>emptyPathMatch(segmentGroup,slicedSegments,r)&&"primary"!==getOutlet(r))}(segmentGroup,slicedSegments,config)){const s=new UrlSegmentGroup(consumedSegments,function(segmentGroup,consumedSegments,routes,primarySegment){const res={};res.primary=primarySegment,primarySegment._sourceSegment=segmentGroup,primarySegment._segmentIndexShift=consumedSegments.length;for(const r of routes)if(""===r.path&&"primary"!==getOutlet(r)){const s=new UrlSegmentGroup([],{});s._sourceSegment=segmentGroup,s._segmentIndexShift=consumedSegments.length,res[getOutlet(r)]=s}return res}(segmentGroup,consumedSegments,config,new UrlSegmentGroup(slicedSegments,segmentGroup.children)));return s._sourceSegment=segmentGroup,s._segmentIndexShift=consumedSegments.length,{segmentGroup:s,slicedSegments:[]}}if(0===slicedSegments.length&&function(segmentGroup,slicedSegments,routes){return routes.some(r=>emptyPathMatch(segmentGroup,slicedSegments,r))}(segmentGroup,slicedSegments,config)){const s=new UrlSegmentGroup(segmentGroup.segments,function(segmentGroup,consumedSegments,slicedSegments,routes,children,relativeLinkResolution){const res={};for(const r of routes)if(emptyPathMatch(segmentGroup,slicedSegments,r)&&!children[getOutlet(r)]){const s=new UrlSegmentGroup([],{});s._sourceSegment=segmentGroup,"legacy"===relativeLinkResolution?(s._segmentIndexShift=segmentGroup.segments.length,("undefined"==typeof ngDevMode||ngDevMode)&&(s._segmentIndexShiftCorrected=consumedSegments.length)):s._segmentIndexShift=consumedSegments.length,res[getOutlet(r)]=s}return{...children,...res}}(segmentGroup,consumedSegments,slicedSegments,config,segmentGroup.children,relativeLinkResolution));return s._sourceSegment=segmentGroup,s._segmentIndexShift=consumedSegments.length,{segmentGroup:s,slicedSegments:slicedSegments}}const s=new UrlSegmentGroup(segmentGroup.segments,segmentGroup.children);return s._sourceSegment=segmentGroup,s._segmentIndexShift=consumedSegments.length,{segmentGroup:s,slicedSegments:slicedSegments}}function emptyPathMatch(segmentGroup,slicedSegments,r){return(!(segmentGroup.hasChildren()||slicedSegments.length>0)||"full"!==r.pathMatch)&&""===r.path}function isImmediateMatch(route,rawSegment,segments,outlet){return!!(getOutlet(route)===outlet||"primary"!==outlet&&emptyPathMatch(rawSegment,segments,route))&&("**"===route.path||match(rawSegment,route,segments).matched)}function noLeftoversInUrl(segmentGroup,segments,outlet){return 0===segments.length&&!segmentGroup.children[outlet]}const NG_DEV_MODE$6="undefined"==typeof ngDevMode||ngDevMode;class NoMatch$1{constructor(segmentGroup){this.segmentGroup=segmentGroup||null}}class AbsoluteRedirect{constructor(urlTree){this.urlTree=urlTree}}function noMatch(segmentGroup){return throwError(new NoMatch$1(segmentGroup))}function absoluteRedirect(newTree){return throwError(new AbsoluteRedirect(newTree))}class ApplyRedirects{constructor(injector,configLoader,urlSerializer,urlTree,config){this.injector=injector,this.configLoader=configLoader,this.urlSerializer=urlSerializer,this.urlTree=urlTree,this.config=config,this.allowRedirects=!0}apply(){const splitGroup=split(this.urlTree.root,[],[],this.config).segmentGroup,rootSegmentGroup=new UrlSegmentGroup(splitGroup.segments,splitGroup.children);return this.expandSegmentGroup(this.injector,this.config,rootSegmentGroup,"primary").pipe(map(rootSegmentGroup=>this.createUrlTree(squashSegmentGroup(rootSegmentGroup),this.urlTree.queryParams,this.urlTree.fragment))).pipe(catchError(e=>{if(e instanceof AbsoluteRedirect)return this.allowRedirects=!1,this.match(e.urlTree);if(e instanceof NoMatch$1)throw this.noMatchError(e);throw e}))}match(tree){return this.expandSegmentGroup(this.injector,this.config,tree.root,"primary").pipe(map(rootSegmentGroup=>this.createUrlTree(squashSegmentGroup(rootSegmentGroup),tree.queryParams,tree.fragment))).pipe(catchError(e=>{if(e instanceof NoMatch$1)throw this.noMatchError(e);throw e}))}noMatchError(e){return new ɵRuntimeError(4002,NG_DEV_MODE$6&&`Cannot match any routes. URL Segment: '${e.segmentGroup}'`)}createUrlTree(rootCandidate,queryParams,fragment){const root=createRoot(rootCandidate);return new UrlTree(root,queryParams,fragment)}expandSegmentGroup(injector,routes,segmentGroup,outlet){return 0===segmentGroup.segments.length&&segmentGroup.hasChildren()?this.expandChildren(injector,routes,segmentGroup).pipe(map(children=>new UrlSegmentGroup([],children))):this.expandSegment(injector,segmentGroup,routes,segmentGroup.segments,outlet,!0)}expandChildren(injector,routes,segmentGroup){const childOutlets=[];for(const child of Object.keys(segmentGroup.children))"primary"===child?childOutlets.unshift(child):childOutlets.push(child);return from(childOutlets).pipe(concatMap(childOutlet=>{const child=segmentGroup.children[childOutlet],sortedRoutes=sortByMatchingOutlets(routes,childOutlet);return this.expandSegmentGroup(injector,sortedRoutes,child,childOutlet).pipe(map(s=>({segment:s,outlet:childOutlet})))}),scan((children,expandedChild)=>(children[expandedChild.outlet]=expandedChild.segment,children),{}),last$1())}expandSegment(injector,segmentGroup,routes,segments,outlet,allowRedirects){return from(routes).pipe(concatMap(r=>this.expandSegmentAgainstRoute(injector,segmentGroup,routes,r,segments,outlet,allowRedirects).pipe(catchError(e=>{if(e instanceof NoMatch$1)return of(null);throw e}))),first(s=>!!s),catchError((e,_)=>{if(isEmptyError(e))return noLeftoversInUrl(segmentGroup,segments,outlet)?of(new UrlSegmentGroup([],{})):noMatch(segmentGroup);throw e}))}expandSegmentAgainstRoute(injector,segmentGroup,routes,route,paths,outlet,allowRedirects){return isImmediateMatch(route,segmentGroup,paths,outlet)?void 0===route.redirectTo?this.matchSegmentAgainstRoute(injector,segmentGroup,route,paths,outlet):allowRedirects&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(injector,segmentGroup,routes,route,paths,outlet):noMatch(segmentGroup):noMatch(segmentGroup)}expandSegmentAgainstRouteUsingRedirect(injector,segmentGroup,routes,route,segments,outlet){return"**"===route.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(injector,routes,route,outlet):this.expandRegularSegmentAgainstRouteUsingRedirect(injector,segmentGroup,routes,route,segments,outlet)}expandWildCardWithParamsAgainstRouteUsingRedirect(injector,routes,route,outlet){const newTree=this.applyRedirectCommands([],route.redirectTo,{});return route.redirectTo.startsWith("/")?absoluteRedirect(newTree):this.lineralizeSegments(route,newTree).pipe(mergeMap(newSegments=>{const group=new UrlSegmentGroup(newSegments,{});return this.expandSegment(injector,group,routes,newSegments,outlet,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(injector,segmentGroup,routes,route,segments,outlet){const{matched:matched,consumedSegments:consumedSegments,remainingSegments:remainingSegments,positionalParamSegments:positionalParamSegments}=match(segmentGroup,route,segments);if(!matched)return noMatch(segmentGroup);const newTree=this.applyRedirectCommands(consumedSegments,route.redirectTo,positionalParamSegments);return route.redirectTo.startsWith("/")?absoluteRedirect(newTree):this.lineralizeSegments(route,newTree).pipe(mergeMap(newSegments=>this.expandSegment(injector,segmentGroup,routes,newSegments.concat(remainingSegments),outlet,!1)))}matchSegmentAgainstRoute(injector,rawSegmentGroup,route,segments,outlet){if("**"===route.path){if(injector=getOrCreateRouteInjectorIfNeeded(route,injector),route.loadChildren){return(route._loadedRoutes?of({routes:route._loadedRoutes,injector:route._loadedInjector}):this.configLoader.loadChildren(injector,route)).pipe(map(cfg=>(route._loadedRoutes=cfg.routes,route._loadedInjector=cfg.injector,new UrlSegmentGroup(segments,{}))))}return of(new UrlSegmentGroup(segments,{}))}return matchWithChecks(rawSegmentGroup,route,segments,injector,this.urlSerializer).pipe(switchMap(({matched:matched,consumedSegments:consumedSegments,remainingSegments:remainingSegments})=>{if(!matched)return noMatch(rawSegmentGroup);injector=route._injector??injector;return this.getChildConfig(injector,route,segments).pipe(mergeMap(routerConfig=>{const childInjector=routerConfig.injector??injector,childConfig=routerConfig.routes,{segmentGroup:splitSegmentGroup,slicedSegments:slicedSegments}=split(rawSegmentGroup,consumedSegments,remainingSegments,childConfig),segmentGroup=new UrlSegmentGroup(splitSegmentGroup.segments,splitSegmentGroup.children);if(0===slicedSegments.length&&segmentGroup.hasChildren()){return this.expandChildren(childInjector,childConfig,segmentGroup).pipe(map(children=>new UrlSegmentGroup(consumedSegments,children)))}if(0===childConfig.length&&0===slicedSegments.length)return of(new UrlSegmentGroup(consumedSegments,{}));const matchedOnOutlet=getOutlet(route)===outlet;return this.expandSegment(childInjector,segmentGroup,childConfig,slicedSegments,matchedOnOutlet?"primary":outlet,!0).pipe(map(cs=>new UrlSegmentGroup(consumedSegments.concat(cs.segments),cs.children)))}))}))}getChildConfig(injector,route,segments){return route.children?of({routes:route.children,injector:injector}):route.loadChildren?void 0!==route._loadedRoutes?of({routes:route._loadedRoutes,injector:route._loadedInjector}):runCanLoadGuards(injector,route,segments,this.urlSerializer).pipe(mergeMap(shouldLoadResult=>shouldLoadResult?this.configLoader.loadChildren(injector,route).pipe(tap(cfg=>{route._loadedRoutes=cfg.routes,route._loadedInjector=cfg.injector})):function(route){return throwError(navigationCancelingError(NG_DEV_MODE$6&&`Cannot load children because the guard of the route "path: '${route.path}'" returned false`,3))}(route))):of({routes:[],injector:injector})}lineralizeSegments(route,urlTree){let res=[],c=urlTree.root;for(;;){if(res=res.concat(c.segments),0===c.numberOfChildren)return of(res);if(c.numberOfChildren>1||!c.children.primary)return redirectTo=route.redirectTo,throwError(new ɵRuntimeError(4e3,NG_DEV_MODE$6&&`Only absolute redirects can have named outlets. redirectTo: '${redirectTo}'`));c=c.children.primary}var redirectTo}applyRedirectCommands(segments,redirectTo,posParams){return this.applyRedirectCreateUrlTree(redirectTo,this.urlSerializer.parse(redirectTo),segments,posParams)}applyRedirectCreateUrlTree(redirectTo,urlTree,segments,posParams){const newRoot=this.createSegmentGroup(redirectTo,urlTree.root,segments,posParams);return new UrlTree(newRoot,this.createQueryParams(urlTree.queryParams,this.urlTree.queryParams),urlTree.fragment)}createQueryParams(redirectToParams,actualParams){const res={};return forEach(redirectToParams,(v,k)=>{if("string"==typeof v&&v.startsWith(":")){const sourceName=v.substring(1);res[k]=actualParams[sourceName]}else res[k]=v}),res}createSegmentGroup(redirectTo,group,segments,posParams){const updatedSegments=this.createSegments(redirectTo,group.segments,segments,posParams);let children={};return forEach(group.children,(child,name)=>{children[name]=this.createSegmentGroup(redirectTo,child,segments,posParams)}),new UrlSegmentGroup(updatedSegments,children)}createSegments(redirectTo,redirectToSegments,actualSegments,posParams){return redirectToSegments.map(s=>s.path.startsWith(":")?this.findPosParam(redirectTo,s,posParams):this.findOrReturn(s,actualSegments))}findPosParam(redirectTo,redirectToUrlSegment,posParams){const pos=posParams[redirectToUrlSegment.path.substring(1)];if(!pos)throw new ɵRuntimeError(4001,NG_DEV_MODE$6&&`Cannot redirect to '${redirectTo}'. Cannot find '${redirectToUrlSegment.path}'.`);return pos}findOrReturn(redirectToUrlSegment,actualSegments){let idx=0;for(const s of actualSegments){if(s.path===redirectToUrlSegment.path)return actualSegments.splice(idx),s;idx++}return redirectToUrlSegment}}function applyRedirects(environmentInjector,configLoader,urlSerializer,config){return switchMap(t=>function(injector,configLoader,urlSerializer,urlTree,config){return new ApplyRedirects(injector,configLoader,urlSerializer,urlTree,config).apply()}(environmentInjector,configLoader,urlSerializer,t.extractedUrl,config).pipe(map(urlAfterRedirects=>({...t,urlAfterRedirects:urlAfterRedirects}))))}const NG_DEV_MODE$5="undefined"==typeof ngDevMode||!!ngDevMode;class NoMatch{}function recognize$1(injector,rootComponentType,config,urlTree,url,urlSerializer,paramsInheritanceStrategy="emptyOnly",relativeLinkResolution="legacy"){return new Recognizer(injector,rootComponentType,config,urlTree,url,paramsInheritanceStrategy,relativeLinkResolution,urlSerializer).recognize().pipe(switchMap(result=>{return null===result?(e=new NoMatch,new Observable(obs=>obs.error(e))):of(result);var e}))}class Recognizer{constructor(injector,rootComponentType,config,urlTree,url,paramsInheritanceStrategy,relativeLinkResolution,urlSerializer){this.injector=injector,this.rootComponentType=rootComponentType,this.config=config,this.urlTree=urlTree,this.url=url,this.paramsInheritanceStrategy=paramsInheritanceStrategy,this.relativeLinkResolution=relativeLinkResolution,this.urlSerializer=urlSerializer}recognize(){const rootSegmentGroup=split(this.urlTree.root,[],[],this.config.filter(c=>void 0===c.redirectTo),this.relativeLinkResolution).segmentGroup;return this.processSegmentGroup(this.injector,this.config,rootSegmentGroup,"primary").pipe(map(children=>{if(null===children)return null;const root=new ActivatedRouteSnapshot([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},"primary",this.rootComponentType,null,this.urlTree.root,-1,{}),rootNode=new TreeNode(root,children),routeState=new RouterStateSnapshot(this.url,rootNode);return this.inheritParamsAndData(routeState._root),routeState}))}inheritParamsAndData(routeNode){const route=routeNode.value,i=inheritedParamsDataResolve(route,this.paramsInheritanceStrategy);route.params=Object.freeze(i.params),route.data=Object.freeze(i.data),routeNode.children.forEach(n=>this.inheritParamsAndData(n))}processSegmentGroup(injector,config,segmentGroup,outlet){return 0===segmentGroup.segments.length&&segmentGroup.hasChildren()?this.processChildren(injector,config,segmentGroup):this.processSegment(injector,config,segmentGroup,segmentGroup.segments,outlet)}processChildren(injector,config,segmentGroup){return from(Object.keys(segmentGroup.children)).pipe(concatMap(childOutlet=>{const child=segmentGroup.children[childOutlet],sortedConfig=sortByMatchingOutlets(config,childOutlet);return this.processSegmentGroup(injector,sortedConfig,child,childOutlet)}),scan((children,outletChildren)=>children&&outletChildren?(children.push(...outletChildren),children):null),takeWhile(children=>null!==children),defaultIfEmpty(null),last$1(),map(children=>{if(null===children)return null;const mergedChildren=mergeEmptyPathMatches(children);return NG_DEV_MODE$5&&function(nodes){const names={};nodes.forEach(n=>{const routeWithSameOutletName=names[n.value.outlet];if(routeWithSameOutletName){const p=routeWithSameOutletName.url.map(s=>s.toString()).join("/"),c=n.value.url.map(s=>s.toString()).join("/");throw new ɵRuntimeError(4006,NG_DEV_MODE$5&&`Two segments cannot have the same outlet name: '${p}' and '${c}'.`)}names[n.value.outlet]=n.value})}(mergedChildren),mergedChildren.sort((a,b)=>"primary"===a.value.outlet?-1:"primary"===b.value.outlet?1:a.value.outlet.localeCompare(b.value.outlet)),mergedChildren}))}processSegment(injector,routes,segmentGroup,segments,outlet){return from(routes).pipe(concatMap(r=>this.processSegmentAgainstRoute(r._injector??injector,r,segmentGroup,segments,outlet)),first(x=>!!x),catchError(e=>{if(isEmptyError(e))return noLeftoversInUrl(segmentGroup,segments,outlet)?of([]):of(null);throw e}))}processSegmentAgainstRoute(injector,route,rawSegment,segments,outlet){if(route.redirectTo||!isImmediateMatch(route,rawSegment,segments,outlet))return of(null);let matchResult;if("**"===route.path){const params=segments.length>0?last(segments).parameters:{},pathIndexShift=getPathIndexShift(rawSegment)+segments.length,snapshot=new ActivatedRouteSnapshot(segments,params,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,getData(route),getOutlet(route),route.component??route._loadedComponent??null,route,getSourceSegmentGroup(rawSegment),pathIndexShift,getResolve(route),NG_DEV_MODE$5?getCorrectedPathIndexShift(rawSegment)+segments.length:pathIndexShift);matchResult=of({snapshot:snapshot,consumedSegments:[],remainingSegments:[]})}else matchResult=matchWithChecks(rawSegment,route,segments,injector,this.urlSerializer).pipe(map(({matched:matched,consumedSegments:consumedSegments,remainingSegments:remainingSegments,parameters:parameters})=>{if(!matched)return null;const pathIndexShift=getPathIndexShift(rawSegment)+consumedSegments.length;return{snapshot:new ActivatedRouteSnapshot(consumedSegments,parameters,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,getData(route),getOutlet(route),route.component??route._loadedComponent??null,route,getSourceSegmentGroup(rawSegment),pathIndexShift,getResolve(route),NG_DEV_MODE$5?getCorrectedPathIndexShift(rawSegment)+consumedSegments.length:pathIndexShift),consumedSegments:consumedSegments,remainingSegments:remainingSegments}}));return matchResult.pipe(switchMap(result=>{if(null===result)return of(null);const{snapshot:snapshot,consumedSegments:consumedSegments,remainingSegments:remainingSegments}=result;injector=route._injector??injector;const childInjector=route._loadedInjector??injector,childConfig=function(route){if(route.children)return route.children;if(route.loadChildren)return route._loadedRoutes;return[]}(route),{segmentGroup:segmentGroup,slicedSegments:slicedSegments}=split(rawSegment,consumedSegments,remainingSegments,childConfig.filter(c=>void 0===c.redirectTo),this.relativeLinkResolution);if(0===slicedSegments.length&&segmentGroup.hasChildren())return this.processChildren(childInjector,childConfig,segmentGroup).pipe(map(children=>null===children?null:[new TreeNode(snapshot,children)]));if(0===childConfig.length&&0===slicedSegments.length)return of([new TreeNode(snapshot,[])]);const matchedOnOutlet=getOutlet(route)===outlet;return this.processSegment(childInjector,childConfig,segmentGroup,slicedSegments,matchedOnOutlet?"primary":outlet).pipe(map(children=>null===children?null:[new TreeNode(snapshot,children)]))}))}}function hasEmptyPathConfig(node){const config=node.value.routeConfig;return config&&""===config.path&&void 0===config.redirectTo}function mergeEmptyPathMatches(nodes){const result=[],mergedNodes=new Set;for(const node of nodes){if(!hasEmptyPathConfig(node)){result.push(node);continue}const duplicateEmptyPathNode=result.find(resultNode=>node.value.routeConfig===resultNode.value.routeConfig);void 0!==duplicateEmptyPathNode?(duplicateEmptyPathNode.children.push(...node.children),mergedNodes.add(duplicateEmptyPathNode)):result.push(node)}for(const mergedNode of mergedNodes){const mergedChildren=mergeEmptyPathMatches(mergedNode.children);result.push(new TreeNode(mergedNode.value,mergedChildren))}return result.filter(n=>!mergedNodes.has(n))}function getSourceSegmentGroup(segmentGroup){let s=segmentGroup;for(;s._sourceSegment;)s=s._sourceSegment;return s}function getPathIndexShift(segmentGroup){let s=segmentGroup,res=s._segmentIndexShift??0;for(;s._sourceSegment;)s=s._sourceSegment,res+=s._segmentIndexShift??0;return res-1}function getCorrectedPathIndexShift(segmentGroup){let s=segmentGroup,res=s._segmentIndexShiftCorrected??s._segmentIndexShift??0;for(;s._sourceSegment;)s=s._sourceSegment,res+=s._segmentIndexShiftCorrected??s._segmentIndexShift??0;return res-1}function getData(route){return route.data||{}}function getResolve(route){return route.resolve||{}}function resolveData(paramsInheritanceStrategy,injector){return mergeMap(t=>{const{targetSnapshot:targetSnapshot,guards:{canActivateChecks:canActivateChecks}}=t;if(!canActivateChecks.length)return of(t);let canActivateChecksResolved=0;return from(canActivateChecks).pipe(concatMap(check=>function(futureARS,futureRSS,paramsInheritanceStrategy,injector){const config=futureARS.routeConfig,resolve=futureARS._resolve;void 0===config?.title||hasStaticTitle(config)||(resolve[RouteTitleKey]=config.title);return function(resolve,futureARS,futureRSS,injector){const keys=(obj=resolve,[...Object.keys(obj),...Object.getOwnPropertySymbols(obj)]);var obj;if(0===keys.length)return of({});const data={};return from(keys).pipe(mergeMap(key=>function(injectionToken,futureARS,futureRSS,injector){const closestInjector=getClosestRouteInjector(futureARS)??injector,resolver=getTokenOrFunctionIdentity(injectionToken,closestInjector),resolverValue=resolver.resolve?resolver.resolve(futureARS,futureRSS):closestInjector.runInContext(()=>resolver(futureARS,futureRSS));return wrapIntoObservable(resolverValue)}(resolve[key],futureARS,futureRSS,injector).pipe(first(),tap(value=>{data[key]=value}))),takeLast(1),mapTo(data),catchError(e=>isEmptyError(e)?EMPTY:throwError(e)))}(resolve,futureARS,futureRSS,injector).pipe(map(resolvedData=>(futureARS._resolvedData=resolvedData,futureARS.data=inheritedParamsDataResolve(futureARS,paramsInheritanceStrategy).resolve,config&&hasStaticTitle(config)&&(futureARS.data[RouteTitleKey]=config.title),null)))}(check.route,targetSnapshot,paramsInheritanceStrategy,injector)),tap(()=>canActivateChecksResolved++),takeLast(1),mergeMap(_=>canActivateChecksResolved===canActivateChecks.length?of(t):EMPTY))})}function hasStaticTitle(config){return"string"==typeof config.title||null===config.title}function switchTap(next){return switchMap(v=>{const nextResult=next(v);return nextResult?from(nextResult).pipe(map(()=>v)):of(v)})}class TitleStrategy{buildTitle(snapshot){let pageTitle,route=snapshot.root;for(;void 0!==route;)pageTitle=this.getResolvedTitleForRoute(route)??pageTitle,route=route.children.find(child=>"primary"===child.outlet);return pageTitle}getResolvedTitleForRoute(snapshot){return snapshot.data[RouteTitleKey]}}TitleStrategy.ɵfac=function TitleStrategy_Factory(t){return new(t||TitleStrategy)},TitleStrategy.ɵprov=/* @__PURE__ */i0.ɵɵdefineInjectable({token:TitleStrategy,factory:function(){return(()=>inject(DefaultTitleStrategy))()},providedIn:"root"}),function(){(typeof ngDevMode==="undefined"||ngDevMode)&&i0.ɵsetClassMetadata(TitleStrategy,[{type:Injectable,args:[{providedIn:"root",useFactory:()=>inject(DefaultTitleStrategy)}]}],null,null)}();class DefaultTitleStrategy extends TitleStrategy{constructor(title){super(),this.title=title}updateTitle(snapshot){const title=this.buildTitle(snapshot);void 0!==title&&this.title.setTitle(title)}}DefaultTitleStrategy.ɵfac=function DefaultTitleStrategy_Factory(t){return new(t||DefaultTitleStrategy)(i0.ɵɵinject(i1.Title))},DefaultTitleStrategy.ɵprov=/* @__PURE__ */i0.ɵɵdefineInjectable({token:DefaultTitleStrategy,factory:DefaultTitleStrategy.ɵfac,providedIn:"root"}),function(){(typeof ngDevMode==="undefined"||ngDevMode)&&i0.ɵsetClassMetadata(DefaultTitleStrategy,[{type:Injectable,args:[{providedIn:"root"}]}],function(){return[{type:i1.Title}]},null)}();class RouteReuseStrategy{}class BaseRouteReuseStrategy{shouldDetach(route){return!1}store(route,detachedTree){}shouldAttach(route){return!1}retrieve(route){return null}shouldReuseRoute(future,curr){return future.routeConfig===curr.routeConfig}}class DefaultRouteReuseStrategy extends BaseRouteReuseStrategy{}const ROUTER_CONFIGURATION=new InjectionToken("undefined"==typeof ngDevMode||!!ngDevMode?"router config":"",{providedIn:"root",factory:()=>({})}),NG_DEV_MODE$3="undefined"==typeof ngDevMode||!!ngDevMode,ROUTES=new InjectionToken("ROUTES");class RouterConfigLoader{constructor(injector,compiler){this.injector=injector,this.compiler=compiler,this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap}loadComponent(route){if(this.componentLoaders.get(route))return this.componentLoaders.get(route);if(route._loadedComponent)return of(route._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(route);const loadRunner=wrapIntoObservable(route.loadComponent()).pipe(tap(component=>{this.onLoadEndListener&&this.onLoadEndListener(route),NG_DEV_MODE$3&&assertStandalone(route.path??"",component),route._loadedComponent=component}),finalize(()=>{this.componentLoaders.delete(route)})),loader=new ConnectableObservable(loadRunner,()=>new Subject).pipe(refCount());return this.componentLoaders.set(route,loader),loader}loadChildren(parentInjector,route){if(this.childrenLoaders.get(route))return this.childrenLoaders.get(route);if(route._loadedRoutes)return of({routes:route._loadedRoutes,injector:route._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(route);const loadRunner=this.loadModuleFactoryOrRoutes(route.loadChildren).pipe(map(factoryOrRoutes=>{let injector,rawRoutes;this.onLoadEndListener&&this.onLoadEndListener(route);let requireStandaloneComponents=!1;Array.isArray(factoryOrRoutes)?(rawRoutes=factoryOrRoutes,requireStandaloneComponents=!0):(injector=factoryOrRoutes.create(parentInjector).injector,rawRoutes=flatten(injector.get(ROUTES,[],InjectFlags.Self|InjectFlags.Optional)));const routes=rawRoutes.map(standardizeConfig);return NG_DEV_MODE$3&&validateConfig(routes,route.path,requireStandaloneComponents),{routes:routes,injector:injector}}),finalize(()=>{this.childrenLoaders.delete(route)})),loader=new ConnectableObservable(loadRunner,()=>new Subject).pipe(refCount());return this.childrenLoaders.set(route,loader),loader}loadModuleFactoryOrRoutes(loadChildren){return wrapIntoObservable(loadChildren()).pipe(mergeMap(t=>t instanceof NgModuleFactory||Array.isArray(t)?of(t):from(this.compiler.compileModuleAsync(t))))}}RouterConfigLoader.ɵfac=function RouterConfigLoader_Factory(t){return new(t||RouterConfigLoader)(i0.ɵɵinject(i0.Injector),i0.ɵɵinject(i0.Compiler))},RouterConfigLoader.ɵprov=/* @__PURE__ */i0.ɵɵdefineInjectable({token:RouterConfigLoader,factory:RouterConfigLoader.ɵfac,providedIn:"root"}),function(){(typeof ngDevMode==="undefined"||ngDevMode)&&i0.ɵsetClassMetadata(RouterConfigLoader,[{type:Injectable,args:[{providedIn:"root"}]}],function(){return[{type:i0.Injector},{type:i0.Compiler}]},null)}();class UrlHandlingStrategy{}class DefaultUrlHandlingStrategy{shouldProcessUrl(url){return!0}extract(url){return url}merge(newUrlPart,wholeUrl){return newUrlPart}}const NG_DEV_MODE$2="undefined"==typeof ngDevMode||!!ngDevMode;function defaultErrorHandler(error){throw error}function defaultMalformedUriErrorHandler(error,urlSerializer,url){return urlSerializer.parse("/")}const exactMatchOptions={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},subsetMatchOptions={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};function assignExtraOptionsToRouter(opts,router){opts.errorHandler&&(router.errorHandler=opts.errorHandler),opts.malformedUriErrorHandler&&(router.malformedUriErrorHandler=opts.malformedUriErrorHandler),opts.onSameUrlNavigation&&(router.onSameUrlNavigation=opts.onSameUrlNavigation),opts.paramsInheritanceStrategy&&(router.paramsInheritanceStrategy=opts.paramsInheritanceStrategy),opts.relativeLinkResolution&&(router.relativeLinkResolution=opts.relativeLinkResolution),opts.urlUpdateStrategy&&(router.urlUpdateStrategy=opts.urlUpdateStrategy),opts.canceledNavigationResolution&&(router.canceledNavigationResolution=opts.canceledNavigationResolution)}function setupRouter(){const urlSerializer=inject(UrlSerializer),contexts=inject(ChildrenOutletContexts),location=inject(Location),injector=inject(Injector),compiler=inject(Compiler),config=inject(ROUTES,{optional:!0})??[],opts=inject(ROUTER_CONFIGURATION,{optional:!0})??{},defaultTitleStrategy=inject(DefaultTitleStrategy),titleStrategy=inject(TitleStrategy,{optional:!0}),urlHandlingStrategy=inject(UrlHandlingStrategy,{optional:!0}),routeReuseStrategy=inject(RouteReuseStrategy,{optional:!0}),router=new Router(null,urlSerializer,contexts,location,injector,compiler,flatten(config));return urlHandlingStrategy&&(router.urlHandlingStrategy=urlHandlingStrategy),routeReuseStrategy&&(router.routeReuseStrategy=routeReuseStrategy),router.titleStrategy=titleStrategy??defaultTitleStrategy,assignExtraOptionsToRouter(opts,router),router}class Router{constructor(rootComponentType,urlSerializer,rootContexts,location,injector,compiler,config){this.rootComponentType=rootComponentType,this.urlSerializer=urlSerializer,this.rootContexts=rootContexts,this.location=location,this.config=config,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new Subject,this.errorHandler=defaultErrorHandler,this.malformedUriErrorHandler=defaultMalformedUriErrorHandler,this.navigated=!1,this.lastSuccessfulId=-1,this.afterPreactivation=()=>of(void 0),this.urlHandlingStrategy=new DefaultUrlHandlingStrategy,this.routeReuseStrategy=new DefaultRouteReuseStrategy,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace";this.configLoader=injector.get(RouterConfigLoader),this.configLoader.onLoadEndListener=r=>this.triggerEvent(new RouteConfigLoadEnd(r)),this.configLoader.onLoadStartListener=r=>this.triggerEvent(new RouteConfigLoadStart(r)),this.ngModule=injector.get(NgModuleRef),this.console=injector.get(ɵConsole);const ngZone=injector.get(NgZone);this.isNgZoneEnabled=ngZone instanceof NgZone&&NgZone.isInAngularZone(),this.resetConfig(config),this.currentUrlTree=new UrlTree(new UrlSegmentGroup([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=createEmptyState(this.currentUrlTree,this.rootComponentType),this.transitions=new BehaviorSubject({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){return this.location.getState()?.ɵrouterPageId}setupNavigations(transitions){const eventsSubject=this.events;return transitions.pipe(filter(t=>0!==t.id),map(t=>({...t,extractedUrl:this.urlHandlingStrategy.extract(t.rawUrl)})),switchMap(overallTransitionState=>{let completed=!1,errored=!1;return of(overallTransitionState).pipe(tap(t=>{this.currentNavigation={id:t.id,initialUrl:t.rawUrl,extractedUrl:t.extractedUrl,trigger:t.source,extras:t.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),switchMap(t=>{const browserUrlTree=this.browserUrlTree.toString(),urlTransition=!this.navigated||t.extractedUrl.toString()!==browserUrlTree||browserUrlTree!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||urlTransition)&&this.urlHandlingStrategy.shouldProcessUrl(t.rawUrl))return isBrowserTriggeredNavigation(t.source)&&(this.browserUrlTree=t.extractedUrl),of(t).pipe(switchMap(t=>{const transition=this.transitions.getValue();return eventsSubject.next(new NavigationStart(t.id,this.serializeUrl(t.extractedUrl),t.source,t.restoredState)),transition!==this.transitions.getValue()?EMPTY:Promise.resolve(t)}),applyRedirects(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),tap(t=>{this.currentNavigation={...this.currentNavigation,finalUrl:t.urlAfterRedirects},overallTransitionState.urlAfterRedirects=t.urlAfterRedirects}),(injector=this.ngModule.injector,rootComponentType=this.rootComponentType,config=this.config,serializer=this.urlSerializer,paramsInheritanceStrategy=this.paramsInheritanceStrategy,relativeLinkResolution=this.relativeLinkResolution,mergeMap(t=>recognize$1(injector,rootComponentType,config,t.urlAfterRedirects,serializer.serialize(t.urlAfterRedirects),serializer,paramsInheritanceStrategy,relativeLinkResolution).pipe(map(targetSnapshot=>({...t,targetSnapshot:targetSnapshot}))))),tap(t=>{if(overallTransitionState.targetSnapshot=t.targetSnapshot,"eager"===this.urlUpdateStrategy){if(!t.extras.skipLocationChange){const rawUrl=this.urlHandlingStrategy.merge(t.urlAfterRedirects,t.rawUrl);this.setBrowserUrl(rawUrl,t)}this.browserUrlTree=t.urlAfterRedirects}const routesRecognized=new RoutesRecognized(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);eventsSubject.next(routesRecognized)}));if(urlTransition&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:id,extractedUrl:extractedUrl,source:source,restoredState:restoredState,extras:extras}=t,navStart=new NavigationStart(id,this.serializeUrl(extractedUrl),source,restoredState);eventsSubject.next(navStart);const targetSnapshot=createEmptyState(extractedUrl,this.rootComponentType).snapshot;return overallTransitionState={...t,targetSnapshot:targetSnapshot,urlAfterRedirects:extractedUrl,extras:{...extras,skipLocationChange:!1,replaceUrl:!1}},of(overallTransitionState)}return this.rawUrlTree=t.rawUrl,t.resolve(null),EMPTY;var injector,rootComponentType,config,serializer,paramsInheritanceStrategy,relativeLinkResolution}),tap(t=>{const guardsStart=new GuardsCheckStart(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(guardsStart)}),map(t=>overallTransitionState={...t,guards:getAllRouteGuards(t.targetSnapshot,t.currentSnapshot,this.rootContexts)}),checkGuards(this.ngModule.injector,evt=>this.triggerEvent(evt)),tap(t=>{if(overallTransitionState.guardsResult=t.guardsResult,isUrlTree(t.guardsResult))throw redirectingNavigationError(this.urlSerializer,t.guardsResult);const guardsEnd=new GuardsCheckEnd(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot,!!t.guardsResult);this.triggerEvent(guardsEnd)}),filter(t=>!!t.guardsResult||(this.restoreHistory(t),this.cancelNavigationTransition(t,"",3),!1)),switchTap(t=>{if(t.guards.canActivateChecks.length)return of(t).pipe(tap(t=>{const resolveStart=new ResolveStart(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(resolveStart)}),switchMap(t=>{let dataResolved=!1;return of(t).pipe(resolveData(this.paramsInheritanceStrategy,this.ngModule.injector),tap({next:()=>dataResolved=!0,complete:()=>{dataResolved||(this.restoreHistory(t),this.cancelNavigationTransition(t,NG_DEV_MODE$2?"At least one route resolver didn't emit any value.":"",2))}}))}),tap(t=>{const resolveEnd=new ResolveEnd(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(resolveEnd)}))}),switchTap(t=>{const loadComponents=route=>{const loaders=[];route.routeConfig?.loadComponent&&!route.routeConfig._loadedComponent&&loaders.push(this.configLoader.loadComponent(route.routeConfig).pipe(tap(loadedComponent=>{route.component=loadedComponent}),map(()=>{})));for(const child of route.children)loaders.push(...loadComponents(child));return loaders};return combineLatest(loadComponents(t.targetSnapshot.root)).pipe(defaultIfEmpty(),take(1))}),switchTap(()=>this.afterPreactivation()),map(t=>{const targetRouterState=function(routeReuseStrategy,curr,prevState){const root=createNode(routeReuseStrategy,curr._root,prevState?prevState._root:void 0);return new RouterState(root,curr)}(this.routeReuseStrategy,t.targetSnapshot,t.currentRouterState);return overallTransitionState={...t,targetRouterState:targetRouterState}}),tap(t=>{this.currentUrlTree=t.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(t.urlAfterRedirects,t.rawUrl),this.routerState=t.targetRouterState,"deferred"===this.urlUpdateStrategy&&(t.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,t),this.browserUrlTree=t.urlAfterRedirects)}),(rootContexts=this.rootContexts,routeReuseStrategy=this.routeReuseStrategy,forwardEvent=evt=>this.triggerEvent(evt),map(t=>(new ActivateRoutes(routeReuseStrategy,t.targetRouterState,t.currentRouterState,forwardEvent).activate(rootContexts),t))),tap({next(){completed=!0},complete(){completed=!0}}),finalize(()=>{if(!completed&&!errored){const cancelationReason=NG_DEV_MODE$2?`Navigation ID ${overallTransitionState.id} is not equal to the current navigation id ${this.navigationId}`:"";this.cancelNavigationTransition(overallTransitionState,cancelationReason,1)}this.currentNavigation?.id===overallTransitionState.id&&(this.currentNavigation=null)}),catchError(e=>{if(errored=!0,isNavigationCancelingError$1(e)){isRedirectingNavigationCancelingError$1(e)||(this.navigated=!0,this.restoreHistory(overallTransitionState,!0));const navCancel=new NavigationCancel(overallTransitionState.id,this.serializeUrl(overallTransitionState.extractedUrl),e.message,e.cancellationCode);if(eventsSubject.next(navCancel),isRedirectingNavigationCancelingError$1(e)){const mergedTree=this.urlHandlingStrategy.merge(e.url,this.rawUrlTree),extras={skipLocationChange:overallTransitionState.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||isBrowserTriggeredNavigation(overallTransitionState.source)};this.scheduleNavigation(mergedTree,"imperative",null,extras,{resolve:overallTransitionState.resolve,reject:overallTransitionState.reject,promise:overallTransitionState.promise})}else overallTransitionState.resolve(!1)}else{this.restoreHistory(overallTransitionState,!0);const navError=new NavigationError(overallTransitionState.id,this.serializeUrl(overallTransitionState.extractedUrl),e,overallTransitionState.targetSnapshot??void 0);eventsSubject.next(navError);try{overallTransitionState.resolve(this.errorHandler(e))}catch(ee){overallTransitionState.reject(ee)}}return EMPTY}));var rootContexts,routeReuseStrategy,forwardEvent}))}resetRootComponentType(rootComponentType){this.rootComponentType=rootComponentType,this.routerState.root.component=this.rootComponentType}setTransition(t){this.transitions.next({...this.transitions.value,...t})}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(event=>{const source="popstate"===event.type?"popstate":"hashchange";"popstate"===source&&setTimeout(()=>{const extras={replaceUrl:!0},state=event.state?.navigationId?event.state:null;if(state){const stateCopy={...state};delete stateCopy.navigationId,delete stateCopy.ɵrouterPageId,0!==Object.keys(stateCopy).length&&(extras.state=stateCopy)}const urlTree=this.parseUrl(event.url);this.scheduleNavigation(urlTree,source,state,extras)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(event){this.events.next(event)}resetConfig(config){NG_DEV_MODE$2&&validateConfig(config),this.config=config.map(standardizeConfig),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(commands,navigationExtras={}){const{relativeTo:relativeTo,queryParams:queryParams,fragment:fragment,queryParamsHandling:queryParamsHandling,preserveFragment:preserveFragment}=navigationExtras,a=relativeTo||this.routerState.root,f=preserveFragment?this.currentUrlTree.fragment:fragment;let q=null;switch(queryParamsHandling){case"merge":q={...this.currentUrlTree.queryParams,...queryParams};break;case"preserve":q=this.currentUrlTree.queryParams;break;default:q=queryParams||null;}return null!==q&&(q=this.removeEmptyProps(q)),createUrlTree(a,this.currentUrlTree,commands,q,f??null)}navigateByUrl(url,extras={skipLocationChange:!1}){("undefined"==typeof ngDevMode||ngDevMode&&this.isNgZoneEnabled&&!NgZone.isInAngularZone())&&this.console.warn("Navigation triggered outside Angular zone, did you forget to call 'ngZone.run()'?");const urlTree=isUrlTree(url)?url:this.parseUrl(url),mergedTree=this.urlHandlingStrategy.merge(urlTree,this.rawUrlTree);return this.scheduleNavigation(mergedTree,"imperative",null,extras)}navigate(commands,extras={skipLocationChange:!1}){return function(commands){for(let i=0;i<commands.length;i++){const cmd=commands[i];if(null==cmd)throw new ɵRuntimeError(4008,NG_DEV_MODE$2&&`The requested path contains ${cmd} segment at index ${i}`)}}(commands),this.navigateByUrl(this.createUrlTree(commands,extras),extras)}serializeUrl(url){return this.urlSerializer.serialize(url)}parseUrl(url){let urlTree;try{urlTree=this.urlSerializer.parse(url)}catch(e){urlTree=this.malformedUriErrorHandler(e,this.urlSerializer,url)}return urlTree}isActive(url,matchOptions){let options;if(options=!0===matchOptions?{...exactMatchOptions}:!1===matchOptions?{...subsetMatchOptions}:matchOptions,isUrlTree(url))return containsTree(this.currentUrlTree,url,options);const urlTree=this.parseUrl(url);return containsTree(this.currentUrlTree,urlTree,options)}removeEmptyProps(params){return Object.keys(params).reduce((result,key)=>{const value=params[key];return null!=value&&(result[key]=value),result},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.currentPageId=t.targetPageId,this.events.next(new NavigationEnd(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.titleStrategy?.updateTitle(this.routerState.snapshot),t.resolve(!0)},e=>{this.console.warn(`Unhandled Navigation Error: ${e}`)})}scheduleNavigation(rawUrl,source,restoredState,extras,priorPromise){if(this.disposed)return Promise.resolve(!1);let resolve,reject,promise;priorPromise?(resolve=priorPromise.resolve,reject=priorPromise.reject,promise=priorPromise.promise):promise=new Promise((res,rej)=>{resolve=res,reject=rej});const id=++this.navigationId;let targetPageId;if("computed"===this.canceledNavigationResolution){0===this.currentPageId&&(restoredState=this.location.getState()),targetPageId=restoredState&&restoredState.ɵrouterPageId?restoredState.ɵrouterPageId:extras.replaceUrl||extras.skipLocationChange?this.browserPageId??0:(this.browserPageId??0)+1}else targetPageId=0;return this.setTransition({id:id,targetPageId:targetPageId,source:source,restoredState:restoredState,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:rawUrl,extras:extras,resolve:resolve,reject:reject,promise:promise,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),promise.catch(e=>Promise.reject(e))}setBrowserUrl(url,t){const path=this.urlSerializer.serialize(url),state={...t.extras.state,...this.generateNgRouterState(t.id,t.targetPageId)};this.location.isCurrentPathEqualTo(path)||t.extras.replaceUrl?this.location.replaceState(path,"",state):this.location.go(path,"",state)}restoreHistory(t,restoringFromCaughtError=!1){if("computed"===this.canceledNavigationResolution){const targetPagePosition=this.currentPageId-t.targetPageId;("popstate"===t.source||"eager"===this.urlUpdateStrategy||this.currentUrlTree===this.currentNavigation?.finalUrl)&&0!==targetPagePosition?this.location.historyGo(targetPagePosition):this.currentUrlTree===this.currentNavigation?.finalUrl&&0===targetPagePosition&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(restoringFromCaughtError&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(t,reason,code){const navCancel=new NavigationCancel(t.id,this.serializeUrl(t.extractedUrl),reason,code);this.triggerEvent(navCancel),t.resolve(!1)}generateNgRouterState(navigationId,routerPageId){return"computed"===this.canceledNavigationResolution?{navigationId:navigationId,"\u0275routerPageId":routerPageId}:{navigationId:navigationId}}}function isBrowserTriggeredNavigation(source){return"imperative"!==source}Router.ɵfac=function Router_Factory(t){i0.ɵɵinvalidFactory()},Router.ɵprov=/* @__PURE__ */i0.ɵɵdefineInjectable({token:Router,factory:function(){return setupRouter()},providedIn:"root"}),function(){(typeof ngDevMode==="undefined"||ngDevMode)&&i0.ɵsetClassMetadata(Router,[{type:Injectable,args:[{providedIn:"root",useFactory:setupRouter}]}],function(){return[{type:i0.Type},{type:UrlSerializer},{type:ChildrenOutletContexts},{type:i3.Location},{type:i0.Injector},{type:i0.Compiler},{type:void 0}]},null)}();class RouterLink{constructor(router,route,tabIndexAttribute,renderer,el){this.router=router,this.route=route,this.tabIndexAttribute=tabIndexAttribute,this.renderer=renderer,this.el=el,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.commands=null,this.onChanges=new Subject,this.setTabIndexIfNotOnNativeEl("0")}set preserveFragment(preserveFragment){this._preserveFragment=ɵcoerceToBoolean(preserveFragment)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(skipLocationChange){this._skipLocationChange=ɵcoerceToBoolean(skipLocationChange)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(replaceUrl){this._replaceUrl=ɵcoerceToBoolean(replaceUrl)}get replaceUrl(){return this._replaceUrl}setTabIndexIfNotOnNativeEl(newTabIndex){if(null!=this.tabIndexAttribute)return;const renderer=this.renderer,nativeElement=this.el.nativeElement;null!==newTabIndex?renderer.setAttribute(nativeElement,"tabindex",newTabIndex):renderer.removeAttribute(nativeElement,"tabindex")}ngOnChanges(changes){this.onChanges.next(this)}set routerLink(commands){null!=commands?(this.commands=Array.isArray(commands)?commands:[commands],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(){if(null===this.urlTree)return!0;const extras={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state};return this.router.navigateByUrl(this.urlTree,extras),!0}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}RouterLink.ɵfac=function RouterLink_Factory(t){return new(t||RouterLink)(i0.ɵɵdirectiveInject(Router),i0.ɵɵdirectiveInject(ActivatedRoute),i0.ɵɵinjectAttribute("tabindex"),i0.ɵɵdirectiveInject(i0.Renderer2),i0.ɵɵdirectiveInject(i0.ElementRef))},RouterLink.ɵdir=/* @__PURE__ */i0.ɵɵdefineDirective({type:RouterLink,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function RouterLink_HostBindings(rf,ctx){if(rf&1){i0.ɵɵlistener("click",function RouterLink_click_HostBindingHandler(){return ctx.onClick()})}},inputs:{queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:true,features:[i0.ɵɵNgOnChangesFeature]}),function(){(typeof ngDevMode==="undefined"||ngDevMode)&&i0.ɵsetClassMetadata(RouterLink,[{type:Directive,args:[{selector:":not(a):not(area)[routerLink]",standalone:!0}]}],function(){return[{type:Router},{type:ActivatedRoute},{type:void 0,decorators:[{type:Attribute,args:["tabindex"]}]},{type:i0.Renderer2},{type:i0.ElementRef}]},{queryParams:[{type:Input}],fragment:[{type:Input}],queryParamsHandling:[{type:Input}],state:[{type:Input}],relativeTo:[{type:Input}],preserveFragment:[{type:Input}],skipLocationChange:[{type:Input}],replaceUrl:[{type:Input}],routerLink:[{type:Input}],onClick:[{type:HostListener,args:["click"]}]})}();class RouterLinkWithHref{constructor(router,route,locationStrategy){this.router=router,this.route=route,this.locationStrategy=locationStrategy,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.commands=null,this.href=null,this.onChanges=new Subject,this.subscription=router.events.subscribe(s=>{s instanceof NavigationEnd&&this.updateTargetUrlAndHref()})}set preserveFragment(preserveFragment){this._preserveFragment=ɵcoerceToBoolean(preserveFragment)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(skipLocationChange){this._skipLocationChange=ɵcoerceToBoolean(skipLocationChange)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(replaceUrl){this._replaceUrl=ɵcoerceToBoolean(replaceUrl)}get replaceUrl(){return this._replaceUrl}set routerLink(commands){this.commands=null!=commands?Array.isArray(commands)?commands:[commands]:null}ngOnChanges(changes){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(button,ctrlKey,shiftKey,altKey,metaKey){if(0!==button||ctrlKey||shiftKey||altKey||metaKey)return!0;if("string"==typeof this.target&&"_self"!=this.target||null===this.urlTree)return!0;const extras={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state};return this.router.navigateByUrl(this.urlTree,extras),!1}updateTargetUrlAndHref(){this.href=null!==this.urlTree?this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}RouterLinkWithHref.ɵfac=function RouterLinkWithHref_Factory(t){return new(t||RouterLinkWithHref)(i0.ɵɵdirectiveInject(Router),i0.ɵɵdirectiveInject(ActivatedRoute),i0.ɵɵdirectiveInject(i3.LocationStrategy))},RouterLinkWithHref.ɵdir=/* @__PURE__ */i0.ɵɵdefineDirective({type:RouterLinkWithHref,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function RouterLinkWithHref_HostBindings(rf,ctx){if(rf&1){i0.ɵɵlistener("click",function RouterLinkWithHref_click_HostBindingHandler($event){return ctx.onClick($event.button,$event.ctrlKey,$event.shiftKey,$event.altKey,$event.metaKey)})}if(rf&2){i0.ɵɵattribute("target",ctx.target)("href",ctx.href,i0.ɵɵsanitizeUrl)}},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:true,features:[i0.ɵɵNgOnChangesFeature]}),function(){(typeof ngDevMode==="undefined"||ngDevMode)&&i0.ɵsetClassMetadata(RouterLinkWithHref,[{type:Directive,args:[{selector:"a[routerLink],area[routerLink]",standalone:!0}]}],function(){return[{type:Router},{type:ActivatedRoute},{type:i3.LocationStrategy}]},{target:[{type:HostBinding,args:["attr.target"]},{type:Input}],queryParams:[{type:Input}],fragment:[{type:Input}],queryParamsHandling:[{type:Input}],state:[{type:Input}],relativeTo:[{type:Input}],href:[{type:HostBinding,args:["attr.href"]}],preserveFragment:[{type:Input}],skipLocationChange:[{type:Input}],replaceUrl:[{type:Input}],routerLink:[{type:Input}],onClick:[{type:HostListener,args:["click",["$event.button","$event.ctrlKey","$event.shiftKey","$event.altKey","$event.metaKey"]]}]})}();class RouterLinkActive{constructor(router,element,renderer,cdr,link,linkWithHref){this.router=router,this.element=element,this.renderer=renderer,this.cdr=cdr,this.link=link,this.linkWithHref=linkWithHref,this.classes=[],this.isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new EventEmitter,this.routerEventsSubscription=router.events.subscribe(s=>{s instanceof NavigationEnd&&this.update()})}ngAfterContentInit(){of(this.links.changes,this.linksWithHrefs.changes,of(null)).pipe(mergeAll()).subscribe(_=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();const allLinkChanges=[...this.links.toArray(),...this.linksWithHrefs.toArray(),this.link,this.linkWithHref].filter(link=>!!link).map(link=>link.onChanges);this.linkInputChangesSubscription=from(allLinkChanges).pipe(mergeAll()).subscribe(link=>{this.isActive!==this.isLinkActive(this.router)(link)&&this.update()})}set routerLinkActive(data){const classes=Array.isArray(data)?data:data.split(" ");this.classes=classes.filter(c=>!!c)}ngOnChanges(changes){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){this.links&&this.linksWithHrefs&&this.router.navigated&&Promise.resolve().then(()=>{const hasActiveLinks=this.hasActiveLinks();this.isActive!==hasActiveLinks&&(this.isActive=hasActiveLinks,this.cdr.markForCheck(),this.classes.forEach(c=>{hasActiveLinks?this.renderer.addClass(this.element.nativeElement,c):this.renderer.removeClass(this.element.nativeElement,c)}),hasActiveLinks&&void 0!==this.ariaCurrentWhenActive?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this.isActiveChange.emit(hasActiveLinks))})}isLinkActive(router){const options=function(options){return!!options.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return link=>!!link.urlTree&&router.isActive(link.urlTree,options)}hasActiveLinks(){const isActiveCheckFn=this.isLinkActive(this.router);return this.link&&isActiveCheckFn(this.link)||this.linkWithHref&&isActiveCheckFn(this.linkWithHref)||this.links.some(isActiveCheckFn)||this.linksWithHrefs.some(isActiveCheckFn)}}RouterLinkActive.ɵfac=function RouterLinkActive_Factory(t){return new(t||RouterLinkActive)(i0.ɵɵdirectiveInject(Router),i0.ɵɵdirectiveInject(i0.ElementRef),i0.ɵɵdirectiveInject(i0.Renderer2),i0.ɵɵdirectiveInject(i0.ChangeDetectorRef),i0.ɵɵdirectiveInject(RouterLink,8),i0.ɵɵdirectiveInject(RouterLinkWithHref,8))},RouterLinkActive.ɵdir=/* @__PURE__ */i0.ɵɵdefineDirective({type:RouterLinkActive,selectors:[["","routerLinkActive",""]],contentQueries:function RouterLinkActive_ContentQueries(rf,ctx,dirIndex){if(rf&1){i0.ɵɵcontentQuery(dirIndex,RouterLink,5);i0.ɵɵcontentQuery(dirIndex,RouterLinkWithHref,5)}if(rf&2){let _t;i0.ɵɵqueryRefresh(_t=i0.ɵɵloadQuery())&&(ctx.links=_t);i0.ɵɵqueryRefresh(_t=i0.ɵɵloadQuery())&&(ctx.linksWithHrefs=_t)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:true,features:[i0.ɵɵNgOnChangesFeature]}),function(){(typeof ngDevMode==="undefined"||ngDevMode)&&i0.ɵsetClassMetadata(RouterLinkActive,[{type:Directive,args:[{selector:"[routerLinkActive]",exportAs:"routerLinkActive",standalone:!0}]}],function(){return[{type:Router},{type:i0.ElementRef},{type:i0.Renderer2},{type:i0.ChangeDetectorRef},{type:RouterLink,decorators:[{type:Optional}]},{type:RouterLinkWithHref,decorators:[{type:Optional}]}]},{links:[{type:ContentChildren,args:[RouterLink,{descendants:!0}]}],linksWithHrefs:[{type:ContentChildren,args:[RouterLinkWithHref,{descendants:!0}]}],routerLinkActiveOptions:[{type:Input}],ariaCurrentWhenActive:[{type:Input}],isActiveChange:[{type:Output}],routerLinkActive:[{type:Input}]})}();class PreloadingStrategy{}class PreloadAllModules{preload(route,fn){return fn().pipe(catchError(()=>of(null)))}}PreloadAllModules.ɵfac=function PreloadAllModules_Factory(t){return new(t||PreloadAllModules)},PreloadAllModules.ɵprov=/* @__PURE__ */i0.ɵɵdefineInjectable({token:PreloadAllModules,factory:PreloadAllModules.ɵfac,providedIn:"root"}),function(){(typeof ngDevMode==="undefined"||ngDevMode)&&i0.ɵsetClassMetadata(PreloadAllModules,[{type:Injectable,args:[{providedIn:"root"}]}],null,null)}();class NoPreloading{preload(route,fn){return of(null)}}NoPreloading.ɵfac=function NoPreloading_Factory(t){return new(t||NoPreloading)},NoPreloading.ɵprov=/* @__PURE__ */i0.ɵɵdefineInjectable({token:NoPreloading,factory:NoPreloading.ɵfac,providedIn:"root"}),function(){(typeof ngDevMode==="undefined"||ngDevMode)&&i0.ɵsetClassMetadata(NoPreloading,[{type:Injectable,args:[{providedIn:"root"}]}],null,null)}();class RouterPreloader{constructor(router,compiler,injector,preloadingStrategy,loader){this.router=router,this.injector=injector,this.preloadingStrategy=preloadingStrategy,this.loader=loader}setUpPreloading(){this.subscription=this.router.events.pipe(filter(e=>e instanceof NavigationEnd),concatMap(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(injector,routes){const res=[];for(const route of routes){route.providers&&!route._injector&&(route._injector=createEnvironmentInjector(route.providers,injector,`Route: ${route.path}`));const injectorForCurrentRoute=route._injector??injector,injectorForChildren=route._loadedInjector??injectorForCurrentRoute;route.loadChildren&&!route._loadedRoutes&&void 0===route.canLoad||route.loadComponent&&!route._loadedComponent?res.push(this.preloadConfig(injectorForCurrentRoute,route)):(route.children||route._loadedRoutes)&&res.push(this.processRoutes(injectorForChildren,route.children??route._loadedRoutes))}return from(res).pipe(mergeAll())}preloadConfig(injector,route){return this.preloadingStrategy.preload(route,()=>{let loadedChildren$;loadedChildren$=route.loadChildren&&void 0===route.canLoad?this.loader.loadChildren(injector,route):of(null);const recursiveLoadChildren$=loadedChildren$.pipe(mergeMap(config=>null===config?of(void 0):(route._loadedRoutes=config.routes,route._loadedInjector=config.injector,this.processRoutes(config.injector??injector,config.routes))));if(route.loadComponent&&!route._loadedComponent){const loadComponent$=this.loader.loadComponent(route);return from([recursiveLoadChildren$,loadComponent$]).pipe(mergeAll())}return recursiveLoadChildren$})}}RouterPreloader.ɵfac=function RouterPreloader_Factory(t){return new(t||RouterPreloader)(i0.ɵɵinject(Router),i0.ɵɵinject(i0.Compiler),i0.ɵɵinject(i0.EnvironmentInjector),i0.ɵɵinject(PreloadingStrategy),i0.ɵɵinject(RouterConfigLoader))},RouterPreloader.ɵprov=/* @__PURE__ */i0.ɵɵdefineInjectable({token:RouterPreloader,factory:RouterPreloader.ɵfac,providedIn:"root"}),function(){(typeof ngDevMode==="undefined"||ngDevMode)&&i0.ɵsetClassMetadata(RouterPreloader,[{type:Injectable,args:[{providedIn:"root"}]}],function(){return[{type:Router},{type:i0.Compiler},{type:i0.EnvironmentInjector},{type:PreloadingStrategy},{type:RouterConfigLoader}]},null)}();const ROUTER_SCROLLER=new InjectionToken("");class RouterScroller{constructor(router,viewportScroller,options={}){this.router=router,this.viewportScroller=viewportScroller,this.options=options,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},options.scrollPositionRestoration=options.scrollPositionRestoration||"disabled",options.anchorScrolling=options.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(e=>{e instanceof NavigationStart?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof NavigationEnd&&(this.lastId=e.id,this.scheduleScrollEvent(e,this.router.parseUrl(e.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(e=>{e instanceof Scroll&&(e.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(routerEvent,anchor){this.router.triggerEvent(new Scroll(routerEvent,"popstate"===this.lastSource?this.store[this.restoredId]:null,anchor))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}RouterScroller.ɵfac=function RouterScroller_Factory(t){i0.ɵɵinvalidFactory()},RouterScroller.ɵprov=/* @__PURE__ */i0.ɵɵdefineInjectable({token:RouterScroller,factory:RouterScroller.ɵfac}),function(){(typeof ngDevMode==="undefined"||ngDevMode)&&i0.ɵsetClassMetadata(RouterScroller,[{type:Injectable}],function(){return[{type:Router},{type:i3.ViewportScroller},{type:void 0}]},null)}();const NG_DEV_MODE$1="undefined"==typeof ngDevMode||ngDevMode;function provideRouter(routes,...features){return[provideRoutes(routes),{provide:ActivatedRoute,useFactory:rootRoute,deps:[Router]},{provide:APP_BOOTSTRAP_LISTENER,multi:!0,useFactory:getBootstrapListener},features.map(feature=>feature.ɵproviders)]}function rootRoute(router){return router.routerState.root}function routerFeature(kind,providers){return{"\u0275kind":kind,"\u0275providers":providers}}function provideRoutes(routes){return[{provide:ROUTES,multi:!0,useValue:routes}]}function withInMemoryScrolling(options={}){return routerFeature(4,[{provide:ROUTER_SCROLLER,useFactory:()=>{const router=inject(Router),viewportScroller=inject(ViewportScroller);return new RouterScroller(router,viewportScroller,options)}}])}function getBootstrapListener(){const injector=inject(Injector);return bootstrappedComponentRef=>{const ref=injector.get(ApplicationRef);if(bootstrappedComponentRef!==ref.components[0])return;const router=injector.get(Router),bootstrapDone=injector.get(BOOTSTRAP_DONE);1===injector.get(INITIAL_NAVIGATION)&&router.initialNavigation(),injector.get(ROUTER_PRELOADER,null,InjectFlags.Optional)?.setUpPreloading(),injector.get(ROUTER_SCROLLER,null,InjectFlags.Optional)?.init(),router.resetRootComponentType(ref.componentTypes[0]),bootstrapDone.closed||(bootstrapDone.next(),bootstrapDone.unsubscribe())}}const BOOTSTRAP_DONE=new InjectionToken(NG_DEV_MODE$1?"bootstrap done indicator":"",{factory:()=>new Subject}),INITIAL_NAVIGATION=new InjectionToken(NG_DEV_MODE$1?"initial navigation":"",{providedIn:"root",factory:()=>1});function withEnabledBlockingInitialNavigation(){return routerFeature(2,[{provide:INITIAL_NAVIGATION,useValue:0},{provide:APP_INITIALIZER,multi:!0,deps:[Injector],useFactory:injector=>{const locationInitialized=injector.get(LOCATION_INITIALIZED,Promise.resolve());let initNavigation=!1;return()=>locationInitialized.then(()=>new Promise(resolve=>{const router=injector.get(Router),bootstrapDone=injector.get(BOOTSTRAP_DONE);var action;action=()=>{resolve(!0),initNavigation=!0},injector.get(Router).events.pipe(filter(e=>e instanceof NavigationEnd||e instanceof NavigationCancel||e instanceof NavigationError),map(e=>e instanceof NavigationEnd||!(!(e instanceof NavigationCancel)||0!==e.code&&1!==e.code)&&null),filter(result=>null!==result),take(1)).subscribe(()=>{action()}),router.afterPreactivation=()=>(resolve(!0),initNavigation||bootstrapDone.closed?of(void 0):bootstrapDone),router.initialNavigation()}))}}])}function withDisabledInitialNavigation(){return routerFeature(3,[{provide:APP_INITIALIZER,multi:!0,useFactory:()=>{const router=inject(Router);return()=>{router.setUpLocationChangeListener()}}},{provide:INITIAL_NAVIGATION,useValue:2}])}function withDebugTracing(){let providers=[];return providers=NG_DEV_MODE$1?[{provide:ENVIRONMENT_INITIALIZER,multi:!0,useFactory:()=>{const router=inject(Router);return()=>router.events.subscribe(e=>{console.group?.(`Router Event: ${e.constructor.name}`),console.log(function(routerEvent){if(!("type"in routerEvent))return`Unknown Router Event: ${routerEvent.constructor.name}`;switch(routerEvent.type){case 14:return`ActivationEnd(path: '${routerEvent.snapshot.routeConfig?.path||""}')`;case 13:return`ActivationStart(path: '${routerEvent.snapshot.routeConfig?.path||""}')`;case 12:return`ChildActivationEnd(path: '${routerEvent.snapshot.routeConfig?.path||""}')`;case 11:return`ChildActivationStart(path: '${routerEvent.snapshot.routeConfig?.path||""}')`;case 8:return`GuardsCheckEnd(id: ${routerEvent.id}, url: '${routerEvent.url}', urlAfterRedirects: '${routerEvent.urlAfterRedirects}', state: ${routerEvent.state}, shouldActivate: ${routerEvent.shouldActivate})`;case 7:return`GuardsCheckStart(id: ${routerEvent.id}, url: '${routerEvent.url}', urlAfterRedirects: '${routerEvent.urlAfterRedirects}', state: ${routerEvent.state})`;case 2:return`NavigationCancel(id: ${routerEvent.id}, url: '${routerEvent.url}')`;case 1:return`NavigationEnd(id: ${routerEvent.id}, url: '${routerEvent.url}', urlAfterRedirects: '${routerEvent.urlAfterRedirects}')`;case 3:return`NavigationError(id: ${routerEvent.id}, url: '${routerEvent.url}', error: ${routerEvent.error})`;case 0:return`NavigationStart(id: ${routerEvent.id}, url: '${routerEvent.url}')`;case 6:return`ResolveEnd(id: ${routerEvent.id}, url: '${routerEvent.url}', urlAfterRedirects: '${routerEvent.urlAfterRedirects}', state: ${routerEvent.state})`;case 5:return`ResolveStart(id: ${routerEvent.id}, url: '${routerEvent.url}', urlAfterRedirects: '${routerEvent.urlAfterRedirects}', state: ${routerEvent.state})`;case 10:return`RouteConfigLoadEnd(path: ${routerEvent.route.path})`;case 9:return`RouteConfigLoadStart(path: ${routerEvent.route.path})`;case 4:return`RoutesRecognized(id: ${routerEvent.id}, url: '${routerEvent.url}', urlAfterRedirects: '${routerEvent.urlAfterRedirects}', state: ${routerEvent.state})`;case 15:const pos=routerEvent.position?`${routerEvent.position[0]}, ${routerEvent.position[1]}`:null;return`Scroll(anchor: '${routerEvent.anchor}', position: '${pos}')`;}}(e)),console.log(e),console.groupEnd?.()})}}]:[],routerFeature(1,providers)}const ROUTER_PRELOADER=new InjectionToken(NG_DEV_MODE$1?"router preloader":"");function withPreloading(preloadingStrategy){return routerFeature(0,[{provide:ROUTER_PRELOADER,useExisting:RouterPreloader},{provide:PreloadingStrategy,useExisting:preloadingStrategy}])}function withRouterConfig(options){return routerFeature(5,[{provide:ROUTER_CONFIGURATION,useValue:options}])}const NG_DEV_MODE="undefined"==typeof ngDevMode||ngDevMode,ROUTER_DIRECTIVES=[RouterOutlet,RouterLink,RouterLinkWithHref,RouterLinkActive,ɵEmptyOutletComponent],ROUTER_FORROOT_GUARD=new InjectionToken(NG_DEV_MODE?"router duplicate forRoot guard":"ROUTER_FORROOT_GUARD"),ROUTER_PROVIDERS=[Location,{provide:UrlSerializer,useClass:DefaultUrlSerializer},{provide:Router,useFactory:setupRouter},ChildrenOutletContexts,{provide:ActivatedRoute,useFactory:rootRoute,deps:[Router]},RouterConfigLoader];function routerNgProbeToken(){return new NgProbeToken("Router",Router)}class RouterModule{constructor(guard){}static forRoot(routes,config){return{ngModule:RouterModule,providers:[ROUTER_PROVIDERS,NG_DEV_MODE&&config?.enableTracing?withDebugTracing().ɵproviders:[],provideRoutes(routes),{provide:ROUTER_FORROOT_GUARD,useFactory:provideForRootGuard,deps:[[Router,new Optional,new SkipSelf]]},{provide:ROUTER_CONFIGURATION,useValue:config||{}},config?.useHash?{provide:LocationStrategy,useClass:HashLocationStrategy}:{provide:LocationStrategy,useClass:PathLocationStrategy},{provide:ROUTER_SCROLLER,useFactory:()=>{const router=inject(Router),viewportScroller=inject(ViewportScroller),config=inject(ROUTER_CONFIGURATION);return config.scrollOffset&&viewportScroller.setOffset(config.scrollOffset),new RouterScroller(router,viewportScroller,config)}},config?.preloadingStrategy?withPreloading(config.preloadingStrategy).ɵproviders:[],{provide:NgProbeToken,multi:!0,useFactory:routerNgProbeToken},config?.initialNavigation?provideInitialNavigation(config):[],[{provide:ROUTER_INITIALIZER,useFactory:getBootstrapListener},{provide:APP_BOOTSTRAP_LISTENER,multi:!0,useExisting:ROUTER_INITIALIZER}]]}}static forChild(routes){return{ngModule:RouterModule,providers:[provideRoutes(routes)]}}}function provideForRootGuard(router){if(NG_DEV_MODE&&router)throw new ɵRuntimeError(4007,"The Router was provided more than once. This can happen if 'forRoot' is used outside of the root injector. Lazy loaded modules should use RouterModule.forChild() instead.");return"guarded"}function provideInitialNavigation(config){return["disabled"===config.initialNavigation?withDisabledInitialNavigation().ɵproviders:[],"enabledBlocking"===config.initialNavigation?withEnabledBlockingInitialNavigation().ɵproviders:[]]}RouterModule.ɵfac=function RouterModule_Factory(t){return new(t||RouterModule)(i0.ɵɵinject(ROUTER_FORROOT_GUARD,8))},RouterModule.ɵmod=/* @__PURE__ */i0.ɵɵdefineNgModule({type:RouterModule}),RouterModule.ɵinj=/* @__PURE__ */i0.ɵɵdefineInjector({imports:[ɵEmptyOutletComponent]}),function(){(typeof ngDevMode==="undefined"||ngDevMode)&&i0.ɵsetClassMetadata(RouterModule,[{type:NgModule,args:[{imports:ROUTER_DIRECTIVES,exports:ROUTER_DIRECTIVES}]}],function(){return[{type:void 0,decorators:[{type:Optional},{type:Inject,args:[ROUTER_FORROOT_GUARD]}]}]},null)}();const ROUTER_INITIALIZER=new InjectionToken(NG_DEV_MODE?"Router Initializer":"");const VERSION=new Version("14.2.12");export{ActivatedRoute,ActivatedRouteSnapshot,ActivationEnd,ActivationStart,BaseRouteReuseStrategy,ChildActivationEnd,ChildActivationStart,ChildrenOutletContexts,DefaultTitleStrategy,DefaultUrlSerializer,GuardsCheckEnd,GuardsCheckStart,NavigationCancel,NavigationEnd,NavigationError,NavigationStart,NoPreloading,OutletContext,PRIMARY_OUTLET,PreloadAllModules,PreloadingStrategy,ROUTER_CONFIGURATION,ROUTER_INITIALIZER,ROUTES,ResolveEnd,ResolveStart,RouteConfigLoadEnd,RouteConfigLoadStart,RouteReuseStrategy,Router,RouterEvent,RouterLink,RouterLinkActive,RouterLinkWithHref,RouterModule,RouterOutlet,RouterPreloader,RouterState,RouterStateSnapshot,RoutesRecognized,Scroll,TitleStrategy,UrlHandlingStrategy,UrlSegment,UrlSegmentGroup,UrlSerializer,UrlTree,VERSION,convertToParamMap,createUrlTreeFromSnapshot,defaultUrlMatcher,provideRouter,provideRoutes,withDebugTracing,withDisabledInitialNavigation,withEnabledBlockingInitialNavigation,withInMemoryScrolling,withPreloading,withRouterConfig,ɵEmptyOutletComponent,ROUTER_PROVIDERS as ɵROUTER_PROVIDERS,assignExtraOptionsToRouter as ɵassignExtraOptionsToRouter,flatten as ɵflatten,withPreloading as ɵwithPreloading};